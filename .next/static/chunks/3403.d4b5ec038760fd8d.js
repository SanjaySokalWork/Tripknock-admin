(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3403],{43403:function(t,e,n){var i;(i=(i=n(2597))&&i.hasOwnProperty("default")?i.default:i).PLUGINS.codeBeautifier=function(){var t,e,n,i={};function r(t,e){var n={"@page":!0,"@font-face":!0,"@keyframes":!0,"@media":!0,"@supports":!0,"@document":!0},i={"@media":!0,"@supports":!0,"@document":!0};e=e||{},t=(t=t||"").replace(/\r\n|[\r\u2028\u2029]/g,"\n");var r=e.indent_size||4,s=e.indent_char||" ",a=void 0===e.selector_separator_newline||e.selector_separator_newline,_=void 0!==e.end_with_newline&&e.end_with_newline,o=void 0===e.newline_between_rules||e.newline_between_rules,c=e.eol?e.eol:"\n";"string"==typeof r&&(r=parseInt(r,10)),e.indent_with_tabs&&(s="	",r=1),c=c.replace(/\\r/,"\r").replace(/\\n/,"\n");var l,h=/^\s+$/,p=-1,u=0;function d(){return(l=t.charAt(++p))||""}function f(e){var n,i=p;return e&&E(),n=t.charAt(p+1)||"",p=i-1,d(),n}function T(e){for(var n=p;d();)if("\\"===l)d();else if(-1!==e.indexOf(l)||"\n"===l)break;return t.substring(n,p+1)}function E(){for(var t="";h.test(f());)d(),t+=l;return t}function g(e){var n=p;for(e="/"===f(),d();d();){if(!e&&"*"===l&&"/"===f()){d();break}if(e&&"\n"===l)return t.substring(n,p)}return t.substring(n,p)+l}function w(e){return t.substring(p-e.length,p).toLowerCase()===e}for(var x,K,v,R=t.match(/^[\t ]*/)[0],m=Array(r+1).join(s),b=0,S=0,k={"{":function(t){k.singleSpace(),A.push(t),k.newLine()},"}":function(t){k.newLine(),A.push(t),k.newLine()},_lastCharWhitespace:function(){return h.test(A[A.length-1])},newLine:function(t){A.length&&(t||"\n"===A[A.length-1]||k.trim(),A.push("\n"),R&&A.push(R))},singleSpace:function(){A.length&&!k._lastCharWhitespace()&&A.push(" ")},preserveSingleSpace:function(){x&&k.singleSpace()},trim:function(){for(;k._lastCharWhitespace();)A.pop()}},A=[],y=!1,O=!1,N=!1,C="",D="";;){var L=function(){var t="";for(l&&h.test(l)&&(t=l);h.test(d());)t+=l;return t}();x=""!==L;var I=-1!==L.indexOf("\n");if(D=C,!(C=l))break;if("/"===l&&"*"===f()){var V=0===b;(I||V)&&k.newLine(),A.push(g()),k.newLine(),V&&k.newLine(!0)}else if("/"===l&&"/"===f())I||"{"===D||k.trim(),k.singleSpace(),A.push(g()),k.newLine();else if("@"===l){k.preserveSingleSpace(),A.push(l);var P=(K=p,v=T(": , {}()[]/='\""),p=K-1,d(),v);P.match(/[ :]$/)&&(d(),P=T(": ").replace(/\s$/,""),A.push(P),k.singleSpace()),(P=P.replace(/\s$/,""))in n&&(S+=1,P in i&&(N=!0))}else"#"===l&&"{"===f()?(k.preserveSingleSpace(),A.push(T("}"))):"{"===l?"}"===f(!0)?(E(),d(),k.singleSpace(),A.push("{}"),k.newLine(),o&&0===b&&k.newLine(!0)):(b++,R+=m,k["{"](l),y=N?(N=!1,S<b):S<=b):"}"===l?(b--,R=R.slice(0,-r),k["}"](l),O=y=!1,S&&S--,o&&0===b&&k.newLine(!0)):":"===l?(E(),!y&&!N||w("&")||function(){for(var e=0,n=p+1;n<t.length;n++){var i=t.charAt(n);if("{"===i)return!0;if("("===i)e+=1;else if(")"===i){if(0===e)return!1;e-=1}else if(" "===i||"}"===i)break}return!1}()?":"===f()?(d(),A.push("::")):A.push(":"):(O=!0,A.push(":"),k.singleSpace())):'"'===l||"'"===l?(k.preserveSingleSpace(),A.push(T(l))):" "===l?(O=!1,A.push(l),k.newLine()):"("===l?w("url")?(A.push(l),E(),d()&&(")"!==l&&'"'!==l&&"'"!==l?A.push(T(")")):p--)):(u++,k.preserveSingleSpace(),A.push(l),E()):")"===l?(A.push(l),u--):","===l?(A.push(l),E(),a&&!O&&u<1?k.newLine():k.singleSpace()):("]"===l||("["===l?k.preserveSingleSpace():"="===l?(E(),l="="):k.preserveSingleSpace()),A.push(l))}var B="";return R&&(B+=R),B+=A.join("").replace(/[\r\n\t ]+$/,""),_&&(B+="\n"),"\n"!=c&&(B=B.replace(/[\n]/g,c)),B}function s(t,e){for(var n=0;n<e.length;n+=1)if(e[n]===t)return!0;return!1}function a(t){return t.replace(/^\s+|\s+$/g,"")}function _(t,e){return new c(t,e).beautify()}t="\xaa\xb5\xba\xc0-\xd6\xd8-\xf6\xf8-ˁˆ-ˑˠ-ˤˬˮͰ-ʹͶͷͺ-ͽΆΈ-ΊΌΎ-ΡΣ-ϵϷ-ҁҊ-ԧԱ-Ֆՙա-ևא-תװ-ײؠ-يٮٯٱ-ۓەۥۦۮۯۺ-ۼۿܐܒ-ܯݍ-ޥޱߊ-ߪߴߵߺࠀ-ࠕࠚࠤࠨࡀ-ࡘࢠࢢ-ࢬऄ-हऽॐक़-ॡॱ-ॷॹ-ॿঅ-ঌএঐও-নপ-রলশ-হঽৎড়ঢ়য়-ৡৰৱਅ-ਊਏਐਓ-ਨਪ-ਰਲਲ਼ਵਸ਼ਸਹਖ਼-ੜਫ਼ੲ-ੴઅ-ઍએ-ઑઓ-નપ-રલળવ-હઽૐૠૡଅ-ଌଏଐଓ-ନପ-ରଲଳଵ-ହଽଡ଼ଢ଼ୟ-ୡୱஃஅ-ஊஎ-ஐஒ-கஙசஜஞடணதந-பம-ஹௐఅ-ఌఎ-ఐఒ-నప-ళవ-హఽౘౙౠౡಅ-ಌಎ-ಐಒ-ನಪ-ಳವ-ಹಽೞೠೡೱೲഅ-ഌഎ-ഐഒ-ഺഽൎൠൡൺ-ൿඅ-ඖක-නඳ-රලව-ෆก-ะาำเ-ๆກຂຄງຈຊຍດ-ທນ-ຟມ-ຣລວສຫອ-ະາຳຽເ-ໄໆໜ-ໟༀཀ-ཇཉ-ཬྈ-ྌက-ဪဿၐ-ၕၚ-ၝၡၥၦၮ-ၰၵ-ႁႎႠ-ჅჇჍა-ჺჼ-ቈቊ-ቍቐ-ቖቘቚ-ቝበ-ኈኊ-ኍነ-ኰኲ-ኵኸ-ኾዀዂ-ዅወ-ዖዘ-ጐጒ-ጕጘ-ፚᎀ-ᎏᎠ-Ᏼᐁ-ᙬᙯ-ᙿᚁ-ᚚᚠ-ᛪᛮ-ᛰᜀ-ᜌᜎ-ᜑᜠ-ᜱᝀ-ᝑᝠ-ᝬᝮ-ᝰក-ឳៗៜᠠ-ᡷᢀ-ᢨᢪᢰ-ᣵᤀ-ᤜᥐ-ᥭᥰ-ᥴᦀ-ᦫᧁ-ᧇᨀ-ᨖᨠ-ᩔᪧᬅ-ᬳᭅ-ᭋᮃ-ᮠᮮᮯᮺ-ᯥᰀ-ᰣᱍ-ᱏᱚ-ᱽᳩ-ᳬᳮ-ᳱᳵᳶᴀ-ᶿḀ-ἕἘ-Ἕἠ-ὅὈ-Ὅὐ-ὗὙὛὝὟ-ώᾀ-ᾴᾶ-ᾼιῂ-ῄῆ-ῌῐ-ΐῖ-Ίῠ-Ῥῲ-ῴῶ-ῼⁱⁿₐ-ₜℂℇℊ-ℓℕℙ-ℝℤΩℨK-ℭℯ-ℹℼ-ℿⅅ-ⅉⅎⅠ-ↈⰀ-Ⱞⰰ-ⱞⱠ-ⳤⳫ-ⳮⳲⳳⴀ-ⴥⴧⴭⴰ-ⵧⵯⶀ-ⶖⶠ-ⶦⶨ-ⶮⶰ-ⶶⶸ-ⶾⷀ-ⷆⷈ-ⷎⷐ-ⷖⷘ-ⷞⸯ々-〇〡-〩〱-〵〸-〼ぁ-ゖゝ-ゟァ-ヺー-ヿㄅ-ㄭㄱ-ㆎㆠ-ㆺㇰ-ㇿ㐀-䶵一-鿌ꀀ-ꒌꓐ-ꓽꔀ-ꘌꘐ-ꘟꘪꘫꙀ-ꙮꙿ-ꚗꚠ-ꛯꜗ-ꜟꜢ-ꞈꞋ-ꞎꞐ-ꞓꞠ-Ɦꟸ-ꠁꠃ-ꠅꠇ-ꠊꠌ-ꠢꡀ-ꡳꢂ-ꢳꣲ-ꣷꣻꤊ-ꤥꤰ-ꥆꥠ-ꥼꦄ-ꦲꧏꨀ-ꨨꩀ-ꩂꩄ-ꩋꩠ-ꩶꩺꪀ-ꪯꪱꪵꪶꪹ-ꪽꫀꫂꫛ-ꫝꫠ-ꫪꫲ-ꫴꬁ-ꬆꬉ-ꬎꬑ-ꬖꬠ-ꬦꬨ-ꬮꯀ-ꯢ가-힣ힰ-ퟆퟋ-ퟻ豈-舘並-龎ﬀ-ﬆﬓ-ﬗיִײַ-ﬨשׁ-זּטּ-לּמּנּסּףּפּצּ-ﮱﯓ-ﴽﵐ-ﶏﶒ-ﷇﷰ-ﷻﹰ-ﹴﹶ-ﻼＡ-Ｚａ-ｚｦ-ﾾￂ-ￇￊ-ￏￒ-ￗￚ-ￜ",e=new RegExp("[".concat(t,"]")),n=new RegExp("[".concat(t," ").concat("̀-ͯ҃-֑҇-ׇֽֿׁׂׅׄؐ-ؚؠ-ىٲ-ۓۧ-ۨۻ-ۼܰ-݊ࠀ-ࠔࠛ-ࠣࠥ-ࠧࠩ-࠭ࡀ-ࡗࣤ-ࣾऀ-ःऺ-़ा-ॏ॑-ॗॢ-ॣ०-९ঁ-ঃ়া-ৄেৈৗয়-ৠਁ-ਃ਼ਾ-ੂੇੈੋ-੍ੑ੦-ੱੵઁ-ઃ઼ા-ૅે-ૉો-્ૢ-ૣ૦-૯ଁ-ଃ଼ା-ୄେୈୋ-୍ୖୗୟ-ୠ୦-୯ஂா-ூெ-ைொ-்ௗ௦-௯ఁ-ఃె-ైొ-్ౕౖౢ-ౣ౦-౯ಂಃ಼ಾ-ೄೆ-ೈೊ-್ೕೖೢ-ೣ೦-೯ംഃെ-ൈൗൢ-ൣ൦-൯ංඃ්ා-ුූෘ-ෟෲෳิ-ฺเ-ๅ๐-๙ິ-ູ່-ໍ໐-໙༘༙༠-༩༹༵༷ཁ-ཇཱ-྄྆-྇ྍ-ྗྙ-ྼ࿆က-ဩ၀-၉ၧ-ၭၱ-ၴႂ-ႍႏ-ႝ፝-፟ᜎ-ᜐᜠ-ᜰᝀ-ᝐᝲᝳក-ឲ៝០-៩᠋-᠍᠐-᠙ᤠ-ᤫᤰ-᤻ᥑ-ᥭᦰ-ᧀᧈ-ᧉ᧐-᧙ᨀ-ᨕᨠ-ᩓ᩠-᩿᩼-᪉᪐-᪙ᭆ-ᭋ᭐-᭙᭫-᭳᮰-᮹᯦-᯳ᰀ-ᰢ᱀-᱉ᱛ-ᱽ᳐-᳒ᴀ-ᶾḁ-ἕ‌‍‿⁀⁔⃐-⃥⃜⃡-⃰ⶁ-ⶖⷠ-ⷿ〡-〨゙゚Ꙁ-ꙭꙴ-꙽ꚟ꛰-꛱ꟸ-ꠀ꠆ꠋꠣ-ꠧꢀ-ꢁꢴ-꣄꣐-꣙ꣳ-ꣷ꤀-꤉ꤦ-꤭ꤰ-ꥅꦀ-ꦃ꦳-꧀ꨀ-ꨧꩀ-ꩁꩌ-ꩍ꩐-꩙ꩻꫠ-ꫩꫲ-ꫳꯀ-ꯡ꯬꯭꯰-꯹ﬠ-ﬨ︀-️︠-︦︳︴﹍-﹏０-９＿","]")),i.newline=/[\n\r\u2028\u2029]/,i.lineBreak=new RegExp("\r\n|".concat(i.newline.source)),i.allLineBreaks=RegExp(i.lineBreak.source,"g"),i.isIdentifierStart=function(t){return t<65?36===t||64===t:t<91||(t<97?95===t:t<123||170<=t&&e.test(String.fromCharCode(t)))},i.isIdentifierChar=function(t){return t<48?36===t:t<58||!(t<65)&&(t<91||(t<97?95===t:t<123||170<=t&&n.test(String.fromCharCode(t))))};var o={BlockStatement:"BlockStatement",Statement:"Statement",ObjectLiteral:"ObjectLiteral",ArrayLiteral:"ArrayLiteral",ForInitializer:"ForInitializer",Conditional:"Conditional",Expression:"Expression"};function c(t,e){var n,r,_,c,l,p,d,f,T,E,g,w,x,K=[],v="";function R(t,e){var i=0;return t&&(i=t.indentation_level,!n.just_added_newline()&&t.line_indent_level>i&&(i=t.line_indent_level)),{mode:e,parent:t,last_text:t?t.last_text:"",last_word:t?t.last_word:"",declaration_statement:!1,declaration_assignment:!1,multiline_frame:!1,if_block:!1,else_block:!1,do_block:!1,do_while:!1,in_case_statement:!1,in_case:!1,case_body:!1,indentation_level:i,line_indent_level:t?t.line_indent_level:i,start_line_index:n.get_line_number(),ternary_depth:0}}for(w={TK_START_EXPR:function(){V();var t=o.Expression;if("["===c.text){if("TK_WORD"===l||")"===f.last_text)return"TK_RESERVED"===l&&s(f.last_text,_.line_starters)&&(n.space_before_token=!0),N(t),y(),O(),void(x.space_in_paren&&(n.space_before_token=!0));t=o.ArrayLiteral,C(f.mode)&&("["!==f.last_text&&(","!==f.last_text||"]"!==p&&"}"!==p)||x.keep_array_indentation||k())}else"TK_RESERVED"===l&&"for"===f.last_text?t=o.ForInitializer:"TK_RESERVED"===l&&s(f.last_text,["if","while"])&&(t=o.Conditional);" "===f.last_text||"TK_START_BLOCK"===l?k():"TK_END_EXPR"===l||"TK_START_EXPR"===l||"TK_END_BLOCK"===l||"."===f.last_text?S(c.wanted_newline):"TK_RESERVED"===l&&"("===c.text||"TK_WORD"===l||"TK_OPERATOR"===l?"TK_RESERVED"===l&&("function"===f.last_word||"typeof"===f.last_word)||"*"===f.last_text&&"function"===p?x.space_after_anon_function&&(n.space_before_token=!0):"TK_RESERVED"!==l||!s(f.last_text,_.line_starters)&&"catch"!==f.last_text||x.space_before_conditional&&(n.space_before_token=!0):n.space_before_token=!0,"("===c.text&&"TK_RESERVED"===l&&"await"===f.last_word&&(n.space_before_token=!0),"("===c.text&&("TK_EQUALS"!==l&&"TK_OPERATOR"!==l||I()||S()),N(t),y(),x.space_in_paren&&(n.space_before_token=!0),O()},TK_END_EXPR:function(){for(;f.mode===o.Statement;)L();f.multiline_frame&&S("]"===c.text&&C(f.mode)&&!x.keep_array_indentation),x.space_in_paren&&("TK_START_EXPR"!==l||x.space_in_empty_paren?n.space_before_token=!0:(n.trim(),n.space_before_token=!1)),"]"===c.text&&x.keep_array_indentation?(y(),L()):(L(),y()),n.remove_redundant_indentation(T),f.do_while&&T.mode===o.Conditional&&(T.mode=o.Expression,f.do_block=!1,f.do_while=!1)},TK_START_BLOCK:function(){var t=B(1),e=B(2);e&&(":"===e.text&&s(t.type,["TK_STRING","TK_WORD","TK_RESERVED"])||s(t.text,["get","set"])&&s(e.type,["TK_WORD","TK_RESERVED"]))?s(p,["class","interface"])?N(o.BlockStatement):N(o.ObjectLiteral):N(o.BlockStatement);var i=!t.comments_before.length&&"}"===t.text&&"function"===f.last_word&&"TK_END_EXPR"===l;"expand"===x.brace_style||"none"===x.brace_style&&c.wanted_newline?"TK_OPERATOR"!==l&&(i||"TK_EQUALS"===l||"TK_RESERVED"===l&&P(f.last_text)&&"else"!==f.last_text)?n.space_before_token=!0:k(!1,!0):"TK_OPERATOR"!==l&&"TK_START_EXPR"!==l?"TK_START_BLOCK"===l?k():n.space_before_token=!0:C(T.mode)&&","===f.last_text&&("}"===p?n.space_before_token=!0:k()),y(),O()},TK_END_BLOCK:function(){for(;f.mode===o.Statement;)L();var t="TK_START_BLOCK"===l;"expand"===x.brace_style?t||k():t||(C(f.mode)&&x.keep_array_indentation?(x.keep_array_indentation=!1,k(),x.keep_array_indentation=!0):k()),L(),y()},TK_WORD:M,TK_RESERVED:M,TK_SEMICOLON:function(){for(V()&&(n.space_before_token=!1);f.mode===o.Statement&&!f.if_block&&!f.do_block;)L();y()},TK_STRING:function(){V()?n.space_before_token=!0:"TK_RESERVED"===l||"TK_WORD"===l?n.space_before_token=!0:"TK_COMMA"===l||"TK_START_EXPR"===l||"TK_EQUALS"===l||"TK_OPERATOR"===l?I()||S():k(),y()},TK_EQUALS:function(){V(),f.declaration_statement&&(f.declaration_assignment=!0),n.space_before_token=!0,y(),n.space_before_token=!0},TK_OPERATOR:function(){if(V(),"TK_RESERVED"===l&&P(f.last_text))return n.space_before_token=!0,void y();if("*"===c.text&&"TK_DOT"===l)return void y();if(":"===c.text&&f.in_case)return f.case_body=!0,O(),y(),k(),void(f.in_case=!1);if("::"===c.text)return void y();"TK_OPERATOR"===l&&S();var t=!0,e=!0;s(c.text,["--","++","!","~"])||s(c.text,["-","+"])&&(s(l,["TK_START_BLOCK","TK_START_EXPR","TK_EQUALS","TK_OPERATOR"])||s(f.last_text,_.line_starters)||","===f.last_text)?(e=t=!1,c.wanted_newline&&("--"===c.text||"++"===c.text)&&k(!1,!0)," "===f.last_text&&D(f.mode)&&(t=!0),"TK_RESERVED"===l?t=!0:"TK_END_EXPR"===l?t=!("]"===f.last_text&&("--"===c.text||"++"===c.text)):"TK_OPERATOR"===l&&(t=s(c.text,["--","-","++","+"])&&s(f.last_text,["--","-","++","+"]),s(c.text,["+","-"])&&s(f.last_text,["--","++"])&&(e=!0)),f.mode!==o.BlockStatement&&f.mode!==o.Statement||"{"!==f.last_text&&" "!==f.last_text||k()):":"===c.text?0===f.ternary_depth?t=!1:f.ternary_depth-=1:"?"===c.text?f.ternary_depth+=1:"*"===c.text&&"TK_RESERVED"===l&&"function"===f.last_text&&(e=t=!1),n.space_before_token=n.space_before_token||t,y(),n.space_before_token=e},TK_COMMA:function(){if(f.declaration_statement)return D(f.parent.mode)&&(f.declaration_assignment=!1),y(),void(f.declaration_assignment?k(f.declaration_assignment=!1,!0):(n.space_before_token=!0,x.comma_first&&S()));y(),f.mode===o.ObjectLiteral||f.mode===o.Statement&&f.parent.mode===o.ObjectLiteral?(f.mode===o.Statement&&L(),k()):(n.space_before_token=!0,x.comma_first&&S())},TK_BLOCK_COMMENT:function(){if(n.raw)return n.add_raw_token(c),void(c.directives&&"end"===c.directives.preserve&&(x.test_output_raw||(n.raw=!1)));if(c.directives)return k(!1,!0),y(),"start"===c.directives.preserve&&(n.raw=!0),void k(!1,!0);if(!i.newline.test(c.text)&&!c.wanted_newline)return n.space_before_token=!0,y(),void(n.space_before_token=!0);var t,e=function(t){t=t.replace(/\x0d/g,"");var e,n=[];for(e=t.indexOf("\n");-1!==e;)n.push(t.substring(0,e)),e=(t=t.substring(e+1)).indexOf("\n");return t.length&&n.push(t),n}(c.text),r=!1,s=!1,_=c.whitespace_before,o=_.length;for(k(!1,!0),1<e.length&&(function(t,e){for(var n=0;n<t.length;n++)if("*"!==a(t[n]).charAt(0))return!1;return!0}(e.slice(1),0)?r=!0:function(t,e){for(var n,i=0,r=t.length;i<r;i++)if((n=t[i])&&0!==n.indexOf(e))return!1;return!0}(e.slice(1),_)&&(s=!0)),y(e[0]),t=1;t<e.length;t++)k(!1,!0),r?y(" ".concat(e[t].replace(/^\s+/g,""))):s&&e[t].length>o?y(e[t].substring(o)):n.add_token(e[t]);k(!1,!0)},TK_COMMENT:function(){c.wanted_newline?k(!1,!0):n.trim(!0),n.space_before_token=!0,y(),k(!1,!0)},TK_DOT:function(){V(),"TK_RESERVED"===l&&P(f.last_text)?n.space_before_token=!0:S(")"===f.last_text&&x.break_chained_methods),y()},TK_UNKNOWN:function(){y(),"\n"===c.text[c.text.length-1]&&k()},TK_EOF:function(){for(;f.mode===o.Statement;)L()}},x={},void 0!==(e=e||{}).braces_on_own_line&&(x.brace_style=e.braces_on_own_line?"expand":"collapse"),x.brace_style=e.brace_style?e.brace_style:x.brace_style?x.brace_style:"collapse","expand-strict"===x.brace_style&&(x.brace_style="expand"),x.indent_size=e.indent_size?parseInt(e.indent_size,10):4,x.indent_char=e.indent_char?e.indent_char:" ",x.eol=e.eol?e.eol:"\n",x.preserve_newlines=void 0===e.preserve_newlines||e.preserve_newlines,x.break_chained_methods=void 0!==e.break_chained_methods&&e.break_chained_methods,x.max_preserve_newlines=void 0===e.max_preserve_newlines?0:parseInt(e.max_preserve_newlines,10),x.space_in_paren=void 0!==e.space_in_paren&&e.space_in_paren,x.space_in_empty_paren=void 0!==e.space_in_empty_paren&&e.space_in_empty_paren,x.jslint_happy=void 0!==e.jslint_happy&&e.jslint_happy,x.space_after_anon_function=void 0!==e.space_after_anon_function&&e.space_after_anon_function,x.keep_array_indentation=void 0!==e.keep_array_indentation&&e.keep_array_indentation,x.space_before_conditional=void 0===e.space_before_conditional||e.space_before_conditional,x.unescape_strings=void 0!==e.unescape_strings&&e.unescape_strings,x.wrap_line_length=void 0===e.wrap_line_length?0:parseInt(e.wrap_line_length,10),x.e4x=void 0!==e.e4x&&e.e4x,x.end_with_newline=void 0!==e.end_with_newline&&e.end_with_newline,x.comma_first=void 0!==e.comma_first&&e.comma_first,x.test_output_raw=void 0!==e.test_output_raw&&e.test_output_raw,x.jslint_happy&&(x.space_after_anon_function=!0),e.indent_with_tabs&&(x.indent_char="	",x.indent_size=1),x.eol=x.eol.replace(/\\r/,"\r").replace(/\\n/,"\n"),d="";0<x.indent_size;)d+=x.indent_char,x.indent_size-=1;var m=0;if(t&&t.length){for(;" "===t.charAt(m)||"	"===t.charAt(m);)v+=t.charAt(m),m+=1;t=t.substring(m)}function b(t){var e=t.newlines;if(x.keep_array_indentation&&C(f.mode))for(var n=0;n<e;n+=1)k(0<n);else if(x.max_preserve_newlines&&e>x.max_preserve_newlines&&(e=x.max_preserve_newlines),x.preserve_newlines&&1<t.newlines){k();for(var i=1;i<e;i+=1)k(!0)}w[(c=t).type]()}function S(t){t=void 0!==t&&t,!n.just_added_newline()&&(x.preserve_newlines&&c.wanted_newline||t?k(!1,!0):x.wrap_line_length&&n.current_line.get_character_count()+c.text.length+(n.space_before_token?1:0)>=x.wrap_line_length&&k(!1,!0))}function k(t,e){if(!e&&" "!==f.last_text&&","!==f.last_text&&"="!==f.last_text&&"TK_OPERATOR"!==l)for(;f.mode===o.Statement&&!f.if_block&&!f.do_block;)L();n.add_new_line(t)&&(f.multiline_frame=!0)}function A(){n.just_added_newline()&&(x.keep_array_indentation&&C(f.mode)&&c.wanted_newline?(n.current_line.push(c.whitespace_before),n.space_before_token=!1):n.set_indent(f.indentation_level)&&(f.line_indent_level=f.indentation_level))}function y(t){n.raw?n.add_raw_token(c):(x.comma_first&&"TK_COMMA"===l&&n.just_added_newline()&&","===n.previous_line.last()&&(n.previous_line.pop(),A(),n.add_token(","),n.space_before_token=!0),t=t||c.text,A(),n.add_token(t))}function O(){f.indentation_level+=1}function N(t){T=f?(E.push(f),f):R(null,t),f=R(T,t)}function C(t){return t===o.ArrayLiteral}function D(t){return s(t,[o.Expression,o.ForInitializer,o.Conditional])}function L(){0<E.length&&(T=f,f=E.pop(),T.mode===o.Statement&&n.remove_redundant_indentation(T))}function I(){return f.parent.mode===o.ObjectLiteral&&f.mode===o.Statement&&(":"===f.last_text&&0===f.ternary_depth||"TK_RESERVED"===l&&s(f.last_text,["get","set"]))}function V(){return!!("TK_RESERVED"===l&&s(f.last_text,["const","let","const"])&&"TK_WORD"===c.type||"TK_RESERVED"===l&&"do"===f.last_text||"TK_RESERVED"===l&&"return"===f.last_text&&!c.wanted_newline||"TK_RESERVED"===l&&"else"===f.last_text&&("TK_RESERVED"!==c.type||"if"!==c.text)||"TK_END_EXPR"===l&&(T.mode===o.ForInitializer||T.mode===o.Conditional)||"TK_WORD"===l&&f.mode===o.BlockStatement&&!f.in_case&&"--"!==c.text&&"++"!==c.text&&"function"!==p&&"TK_WORD"!==c.type&&"TK_RESERVED"!==c.type||f.mode===o.ObjectLiteral&&(":"===f.last_text&&0===f.ternary_depth||"TK_RESERVED"===l&&s(f.last_text,["get","set"])))&&(N(o.Statement),O(),"TK_RESERVED"===l&&s(f.last_text,["const","let","const"])&&"TK_WORD"===c.type&&(f.declaration_statement=!0),I()||S("TK_RESERVED"===c.type&&s(c.text,["do","for","if","while"])),!0)}function P(t){return s(t,["case","return","do","if","throw","else"])}function B(t){var e=r+(t||0);return e<0||e>=K.length?null:K[e]}function M(){if("TK_RESERVED"===c.type&&f.mode!==o.ObjectLiteral&&s(c.text,["set","get"])&&(c.type="TK_WORD"),"TK_RESERVED"===c.type&&f.mode===o.ObjectLiteral&&":"===B(1).text&&(c.type="TK_WORD"),V()||!c.wanted_newline||D(f.mode)||"TK_OPERATOR"===l&&"--"!==f.last_text&&"++"!==f.last_text||"TK_EQUALS"===l||!x.preserve_newlines&&"TK_RESERVED"===l&&s(f.last_text,["const","let","const","set","get"])||k(),f.do_block&&!f.do_while){if("TK_RESERVED"===c.type&&"while"===c.text)return n.space_before_token=!0,y(),n.space_before_token=!0,void(f.do_while=!0);k(),f.do_block=!1}if(f.if_block){if(f.else_block||"TK_RESERVED"!==c.type||"else"!==c.text){for(;f.mode===o.Statement;)L();f.if_block=!1,f.else_block=!1}else f.else_block=!0}return"TK_RESERVED"===c.type&&("case"===c.text||"default"===c.text&&f.in_case_statement)?(k(),(f.case_body||x.jslint_happy)&&(0<f.indentation_level&&(!f.parent||f.indentation_level>f.parent.indentation_level)&&(f.indentation_level-=1),f.case_body=!1),y(),f.in_case=!0,void(f.in_case_statement=!0)):("TK_RESERVED"!==c.type||"function"!==c.text||((s(f.last_text,["}"," "])||n.just_added_newline()&&!s(f.last_text,["[","{",":","=",","]))&&(n.just_added_blankline()||c.comments_before.length||(k(),k(!0))),"TK_RESERVED"===l||"TK_WORD"===l?"TK_RESERVED"===l&&s(f.last_text,["get","set","new","return","export","async"])?n.space_before_token=!0:"TK_RESERVED"===l&&"default"===f.last_text&&"export"===p?n.space_before_token=!0:k():"TK_OPERATOR"===l||"="===f.last_text?n.space_before_token=!0:!f.multiline_frame&&(D(f.mode)||C(f.mode))||k()),"TK_COMMA"!==l&&"TK_START_EXPR"!==l&&"TK_EQUALS"!==l&&"TK_OPERATOR"!==l||I()||S(),"TK_RESERVED"===c.type&&s(c.text,["function","get","set"]))?(y(),void(f.last_word=c.text)):void((g="NONE","TK_END_BLOCK"===l?"TK_RESERVED"===c.type&&s(c.text,["else","catch","finally"])?"expand"===x.brace_style||"end-expand"===x.brace_style||"none"===x.brace_style&&c.wanted_newline?g="NEWLINE":(g="SPACE",n.space_before_token=!0):g="NEWLINE":"TK_SEMICOLON"===l&&f.mode===o.BlockStatement?g="NEWLINE":"TK_SEMICOLON"===l&&D(f.mode)?g="SPACE":"TK_STRING"===l?g="NEWLINE":"TK_RESERVED"===l||"TK_WORD"===l||"*"===f.last_text&&"function"===p?g="SPACE":"TK_START_BLOCK"===l?g="NEWLINE":"TK_END_EXPR"===l&&(n.space_before_token=!0,g="NEWLINE"),"TK_RESERVED"===c.type&&s(c.text,_.line_starters)&&")"!==f.last_text&&(g="else"===f.last_text||"export"===f.last_text?"SPACE":"NEWLINE"),"TK_RESERVED"===c.type&&s(c.text,["else","catch","finally"]))?"TK_END_BLOCK"!==l||"expand"===x.brace_style||"end-expand"===x.brace_style||"none"===x.brace_style&&c.wanted_newline?k():(n.trim(!0),"}"!==n.current_line.last()&&k(),n.space_before_token=!0):"NEWLINE"===g?"TK_RESERVED"===l&&P(f.last_text)?n.space_before_token=!0:"TK_END_EXPR"!==l?"TK_START_EXPR"===l&&"TK_RESERVED"===c.type&&s(c.text,["const","let","const"])||":"===f.last_text||("TK_RESERVED"===c.type&&"if"===c.text&&"else"===f.last_text?n.space_before_token=!0:k()):"TK_RESERVED"===c.type&&s(c.text,_.line_starters)&&")"!==f.last_text&&k():f.multiline_frame&&C(f.mode)&&","===f.last_text&&"}"===p?k():"SPACE"===g&&(n.space_before_token=!0),y(),f.last_word=c.text,"TK_RESERVED"===c.type&&"do"===c.text&&(f.do_block=!0),"TK_RESERVED"===c.type&&"if"===c.text&&(f.if_block=!0))}l="TK_START_BLOCK",p="",(n=new h(d,v)).raw=x.test_output_raw,E=[],N(o.BlockStatement),this.beautify=function(){var e,i;for(K=(_=new u(t,x,d)).tokenize(),r=0;e=B();){for(var s=0;s<e.comments_before.length;s++)b(e.comments_before[s]);b(e),p=f.last_text,l=e.type,f.last_text=e.text,r+=1}return i=n.get_code(),x.end_with_newline&&(i+="\n"),"\n"!=x.eol&&(i=i.replace(/[\n]/g,x.eol)),i}}function l(t){var e=0,n=-1,i=[],r=!0;this.set_indent=function(i){e=t.baseIndentLength+i*t.indent_length,n=i},this.get_character_count=function(){return e},this.is_empty=function(){return r},this.last=function(){return this._empty?null:i[i.length-1]},this.push=function(t){i.push(t),e+=t.length,r=!1},this.pop=function(){var t=null;return r||(t=i.pop(),e-=t.length,r=0===i.length),t},this.remove_indent=function(){0<n&&(n-=1,e-=t.indent_length)},this.trim=function(){for(;" "===this.last();)i.pop(),e-=1;r=0===i.length},this.toString=function(){var e="";return this._empty||(0<=n&&(e=t.indent_cache[n]),e+=i.join("")),e}}function h(t,e){e=e||"",this.indent_cache=[e],this.baseIndentLength=e.length,this.indent_length=t.length,this.raw=!1;var n=[];this.baseIndentString=e,this.indent_string=t,this.previous_line=null,this.current_line=null,this.space_before_token=!1,this.add_outputline=function(){this.previous_line=this.current_line,this.current_line=new l(this),n.push(this.current_line)},this.add_outputline(),this.get_line_number=function(){return n.length},this.add_new_line=function(t){return(1!==this.get_line_number()||!this.just_added_newline())&&!(!t&&this.just_added_newline())&&(this.raw||this.add_outputline(),!0)},this.get_code=function(){return n.join("\n").replace(/[\r\n\t ]+$/,"")},this.set_indent=function(t){if(1<n.length){for(;t>=this.indent_cache.length;)this.indent_cache.push(this.indent_cache[this.indent_cache.length-1]+this.indent_string);return this.current_line.set_indent(t),!0}return this.current_line.set_indent(0),!1},this.add_raw_token=function(t){for(var e=0;e<t.newlines;e++)this.add_outputline();this.current_line.push(t.whitespace_before),this.current_line.push(t.text),this.space_before_token=!1},this.add_token=function(t){this.add_space_before_token(),this.current_line.push(t)},this.add_space_before_token=function(){this.space_before_token&&!this.just_added_newline()&&this.current_line.push(" "),this.space_before_token=!1},this.remove_redundant_indentation=function(t){if(!t.multiline_frame&&t.mode!==o.ForInitializer&&t.mode!==o.Conditional)for(var e=t.start_line_index,i=n.length;e<i;)n[e].remove_indent(),e++},this.trim=function(i){for(i=void 0!==i&&i,this.current_line.trim(t,e);i&&1<n.length&&this.current_line.is_empty();)n.pop(),this.current_line=n[n.length-1],this.current_line.trim();this.previous_line=1<n.length?n[n.length-2]:null},this.just_added_newline=function(){return this.current_line.is_empty()},this.just_added_blankline=function(){return!!this.just_added_newline()&&(1===n.length||n[n.length-2].is_empty())}}var p=function(t,e,n,i,r,s){this.type=t,this.text=e,this.comments_before=[],this.newlines=n||0,this.wanted_newline=0<n,this.whitespace_before=i||"",this.parent=null,this.directives=null};function u(t,e,n){var r="\n\r	 ".split(""),_=/[0-9]/,o=/[01234567]/,c=/[0123456789abcdefABCDEF]/,l="+ - * / % & ++ -- = += -= *= /= %= == === != !== > < >= <= >> << >>> >>>= >>= <<= && &= | || ! ~ , : ? ^ ^= |= :: =>".split(" ");this.line_starters="continue,try,throw,return,const,let,const,if,switch,case,default,for,while,break,function,import,export".split(",");var h,u,d,f,T,E,g=this.line_starters.concat(["do","in","else","get","set","new","catch","finally","typeof","yield","async","await"]),w=/([\s\S]*?)((?:\*\/)|$)/g,x=/([^\n\r\u2028\u2029]*)/g,K=/\/\* beautify( \w+[:]\w+)+ \*\//g,v=/ (\w+)[:](\w+)/g,R=/([\s\S]*?)((?:\/\*\sbeautify\signore:end\s\*\/)|$)/g,m=/((<\?php|<\?=)[\s\S]*?\?>)|(<%[\s\S]*?%>)/g;function b(){var n,b,S=[];if(h=0,u="",E<=T)return["","TK_EOF"];b=f.length?f[f.length-1]:new p("TK_START_BLOCK","{");var k=t.charAt(T);for(T+=1;s(k,r);){if(i.newline.test(k)?"\n"===k&&"\r"===t.charAt(T-2)||(h+=1,S=[]):S.push(k),E<=T)return["","TK_EOF"];k=t.charAt(T),T+=1}if(S.length&&(u=S.join("")),_.test(k)){var A=!0,y=!0,O=_;for("0"===k&&T<E&&/[Xxo]/.test(t.charAt(T))?(y=A=!1,k+=t.charAt(T),T+=1,O=/[o]/.test(t.charAt(T))?o:c):(k="",T-=1);T<E&&O.test(t.charAt(T));)k+=t.charAt(T),T+=1,A&&T<E&&"."===t.charAt(T)&&(k+=t.charAt(T),T+=1,A=!1),y&&T<E&&/[Ee]/.test(t.charAt(T))&&(k+=t.charAt(T),(T+=1)<E&&/[+-]/.test(t.charAt(T))&&(k+=t.charAt(T),T+=1),A=y=!1);return[k,"TK_WORD"]}if(i.isIdentifierStart(t.charCodeAt(T-1))){if(T<E)for(;i.isIdentifierChar(t.charCodeAt(T))&&(k+=t.charAt(T),(T+=1)!==E););return"TK_DOT"===b.type||"TK_RESERVED"===b.type&&s(b.text,["set","get"])||!s(k,g)?[k,"TK_WORD"]:"in"===k?[k,"TK_OPERATOR"]:[k,"TK_RESERVED"]}if("("===k||"["===k)return[k,"TK_START_EXPR"];if(")"===k||"]"===k)return[k,"TK_END_EXPR"];if("{"===k)return[k,"TK_START_BLOCK"];if("}"===k)return[k,"TK_END_BLOCK"];if(" "===k)return[k,"TK_SEMICOLON"];if("/"===k){var N="";if("*"===t.charAt(T)){T+=1,w.lastIndex=T;var C=w.exec(t);N="/*".concat(C[0]),T+=C[0].length;var D=function(t){if(!t.match(K))return null;var e={};v.lastIndex=0;for(var n=v.exec(t);n;)e[n[1]]=n[2],n=v.exec(t);return e}(N);return D&&"start"===D.ignore&&(R.lastIndex=T,N+=(C=R.exec(t))[0],T+=C[0].length),[N=N.replace(i.lineBreak,"\n"),"TK_BLOCK_COMMENT",D]}if("/"===t.charAt(T)){T+=1,x.lastIndex=T;var L=x.exec(t);return N="//".concat(L[0]),T+=L[0].length,[N,"TK_COMMENT"]}}if("`"===k||"'"===k||'"'===k||("/"===k||e.e4x&&"<"===k&&t.slice(T-1).match(/^<([-a-zA-Z:0-9_.]+|{[^{}]*}|!\[CDATA\[[\s\S]*?\]\])(\s+[-a-zA-Z:0-9_.]+\s*=\s*('[^']*'|"[^"]*"|{.*?}))*\s*(\/?)\s*>/))&&("TK_RESERVED"===b.type&&s(b.text,["return","case","throw","else","do","typeof","yield"])||"TK_END_EXPR"===b.type&&")"===b.text&&b.parent&&"TK_RESERVED"===b.parent.type&&s(b.parent.text,["if","while","for"])||s(b.type,["TK_COMMENT","TK_START_EXPR","TK_START_BLOCK","TK_END_BLOCK","TK_OPERATOR","TK_EQUALS","TK_EOF","TK_SEMICOLON","TK_COMMA"]))){var I=k,V=!1,P=!1;if(n=k,"/"===I)for(var B=!1;T<E&&(V||B||t.charAt(T)!==I)&&!i.newline.test(t.charAt(T));)n+=t.charAt(T),V?V=!1:(V="\\"===t.charAt(T),"["===t.charAt(T)?B=!0:"]"===t.charAt(T)&&(B=!1)),T+=1;else if(e.e4x&&"<"===I){var M=/<(\/?)([-a-zA-Z:0-9_.]+|{[^{}]*}|!\[CDATA\[[\s\S]*?\]\])(\s+[-a-zA-Z:0-9_.]+\s*=\s*('[^']*'|"[^"]*"|{.*?}))*\s*(\/?)\s*>/g,j=t.slice(T-1),U=M.exec(j);if(U&&0===U.index){for(var W=U[2],z=0;U;){var G=!!U[1],X=U[2],F=!!U[U.length-1]||"![CDATA["===X.slice(0,8);if(X!==W||F||(G?--z:++z),z<=0)break;U=M.exec(j)}var $=U?U.index+U[0].length:j.length;return j=j.slice(0,$),T+=$-1,[j=j.replace(i.lineBreak,"\n"),"TK_STRING"]}}else for(;T<E&&(V||t.charAt(T)!==I&&("`"===I||!i.newline.test(t.charAt(T))));)(V||"`"===I)&&i.newline.test(t.charAt(T))?("\r"===t.charAt(T)&&"\n"===t.charAt(T+1)&&(T+=1),n+="\n"):n+=t.charAt(T),V=V?("x"!==t.charAt(T)&&"u"!==t.charAt(T)||(P=!0),!1):"\\"===t.charAt(T),T+=1;if(P&&e.unescape_strings&&(n=function t(t){for(var e,n=!1,i="",r=0,s="",a=0;n||r<t.length;)if(e=t.charAt(r),r++,n){if(n=!1,"x"===e)s=t.substr(r,2),r+=2;else{if("u"!==e){i+="\\".concat(e);continue}s=t.substr(r,4),r+=4}if(!s.match(/^[0123456789abcdefABCDEF]+$/))return t;if(0<=(a=parseInt(s,16))&&a<32){i+="x"===e?"\\x".concat(s):"\\u".concat(s);continue}if(34===a||39===a||92===a)i+="\\".concat(String.fromCharCode(a));else{if("x"===e&&126<a&&a<=255)return t;i+=String.fromCharCode(a)}}else"\\"===e?n=!0:i+=e;return i}(n)),T<E&&t.charAt(T)===I&&(n+=I,T+=1,"/"===I))for(;T<E&&i.isIdentifierStart(t.charCodeAt(T));)n+=t.charAt(T),T+=1;return[n,"TK_STRING"]}if("#"===k){if(0===f.length&&"!"===t.charAt(T)){for(n=k;T<E&&"\n"!==k;)n+=k=t.charAt(T),T+=1;return["".concat(a(n),"\n"),"TK_UNKNOWN"]}var Q="#";if(T<E&&_.test(t.charAt(T))){for(;Q+=k=t.charAt(T),(T+=1)<E&&"#"!==k&&"="!==k;);return"#"===k||("["===t.charAt(T)&&"]"===t.charAt(T+1)?(Q+="[]",T+=2):"{"===t.charAt(T)&&"}"===t.charAt(T+1)&&(Q+="{}",T+=2)),[Q,"TK_WORD"]}}if("<"===k&&("?"===t.charAt(T)||"%"===t.charAt(T))){m.lastIndex=T-1;var Y=m.exec(t);if(Y)return k=Y[0],T+=k.length-1,[k=k.replace(i.lineBreak,"\n"),"TK_STRING"]}if("<"===k&&"\x3c!--"===t.substring(T-1,T+3)){for(T+=3,k="\x3c!--";!i.newline.test(t.charAt(T))&&T<E;)k+=t.charAt(T),T++;return d=!0,[k,"TK_COMMENT"]}if("-"===k&&d&&"--\x3e"===t.substring(T-1,T+2))return d=!1,T+=2,["--\x3e","TK_COMMENT"];if("."===k)return[k,"TK_DOT"];if(s(k,l)){for(;T<E&&s(k+t.charAt(T),l)&&(k+=t.charAt(T),!(E<=(T+=1))););return","===k?[k,"TK_COMMA"]:"="===k?[k,"TK_EQUALS"]:[k,"TK_OPERATOR"]}return[k,"TK_UNKNOWN"]}this.tokenize=function(){var e,n,i;E=t.length,T=0,d=!1,f=[];for(var r=null,s=[],a=[];!n||"TK_EOF"!==n.type;){for(e=new p((i=b())[1],i[0],h,u);"TK_COMMENT"===e.type||"TK_BLOCK_COMMENT"===e.type||"TK_UNKNOWN"===e.type;)"TK_BLOCK_COMMENT"===e.type&&(e.directives=i[2]),a.push(e),e=new p((i=b())[1],i[0],h,u);a.length&&(e.comments_before=a,a=[]),"TK_START_BLOCK"===e.type||"TK_START_EXPR"===e.type?(e.parent=n,s.push(r),r=e):("TK_END_BLOCK"===e.type||"TK_END_EXPR"===e.type)&&r&&("]"===e.text&&"["===r.text||")"===e.text&&"("===r.text||"}"===e.text&&"{"===r.text)&&(e.parent=r.parent,r=s.pop()),f.push(e),n=e}return f}}return{run:function(t,e){function n(t){return t.replace(/\s+$/g,"")}for(void 0!==(e=e||{}).wrap_line_length&&0!==parseInt(e.wrap_line_length,10)||void 0===e.max_char||0===parseInt(e.max_char,10)||(e.wrap_line_length=e.max_char),s=void 0!==e.indent_inner_html&&e.indent_inner_html,a=void 0===e.indent_size?4:parseInt(e.indent_size,10),o=void 0===e.indent_char?" ":e.indent_char,l=void 0===e.brace_style?"collapse":e.brace_style,c=0===parseInt(e.wrap_line_length,10)?32786:parseInt(e.wrap_line_length||250,10),h=e.unformatted||["a","span","img","bdo","em","strong","dfn","code","samp","kbd","const","cite","abbr","acronym","q","sub","sup","tt","i","b","big","small","u","s","strike","font","ins","del","address","pre"],u=(p=void 0===e.preserve_newlines||e.preserve_newlines)?isNaN(parseInt(e.max_preserve_newlines,10))?32786:parseInt(e.max_preserve_newlines,10):0,d=void 0!==e.indent_handlebars&&e.indent_handlebars,f=void 0===e.wrap_attributes?"auto":e.wrap_attributes,T=void 0===e.wrap_attributes_indent_size?a:parseInt(e.wrap_attributes_indent_size,10)||a,E=void 0!==e.end_with_newline&&e.end_with_newline,g=Array.isArray(e.extra_liners)?e.extra_liners.concat():"string"==typeof e.extra_liners?e.extra_liners.split(","):"head,body,/html".split(","),e.indent_with_tabs&&(o="	",a=1),(i=new function(){return this.pos=0,this.token="",this.current_mode="CONTENT",this.tags={parent:"parent1",parentcount:1,parent1:""},this.tag_type="",this.token_text=this.last_token=this.last_text=this.token_type="",this.newlines=0,this.indent_content=s,this.Utils={whitespace:"\n\r	 ".split(""),single_token:"br,input,link,meta,source,!doctype,basefont,base,area,hr,wbr,param,img,isindex,embed".split(","),extra_liners:g,in_array:function(t,e){for(var n=0;n<e.length;n++)if(t===e[n])return!0;return!1}},this.is_whitespace=function(t){for(;0<t.length;t++)if(!this.Utils.in_array(t.charAt(0),this.Utils.whitespace))return!1;return!0},this.traverse_whitespace=function(){var t="";if(t=this.input.charAt(this.pos),this.Utils.in_array(t,this.Utils.whitespace)){for(this.newlines=0;this.Utils.in_array(t,this.Utils.whitespace);)p&&"\n"===t&&this.newlines<=u&&(this.newlines+=1),this.pos++,t=this.input.charAt(this.pos);return!0}return!1},this.space_or_wrap=function(t){this.line_char_count>=this.wrap_line_length?(this.print_newline(!1,t),this.print_indentation(t)):(this.line_char_count++,t.push(" "))},this.get_content=function(){for(var t="",e=[];"<"!=this.input.charAt(this.pos);){if(this.pos>=this.input.length)return e.length?e.join(""):["","TK_EOF"];if(this.traverse_whitespace())this.space_or_wrap(e);else{if(d){var n=this.input.substr(this.pos,3);if("{{#"===n||"{{/"===n)break;if("{{!"===n)return[this.get_tag(),"TK_TAG_HANDLEBARS_COMMENT"];if("{{"===this.input.substr(this.pos,2)&&"{{else}}"===this.get_tag(!0))break}t=this.input.charAt(this.pos),this.pos++,this.line_char_count++,e.push(t)}}return e.length?e.join(""):""},this.get_contents_to=function(t){if(this.pos===this.input.length)return["","TK_EOF"];var e="",n=RegExp("</".concat(t,"\\s*>"),"igm");n.lastIndex=this.pos;var i=n.exec(this.input),r=i?i.index:this.input.length;return this.pos<r&&(e=this.input.substring(this.pos,r),this.pos=r),e},this.record_tag=function(t){this.tags["".concat(t,"count")]?this.tags["".concat(t,"count")]++:this.tags["".concat(t,"count")]=1,this.tags[t+this.tags["".concat(t,"count")]]=this.indent_level,this.tags[t+this.tags["".concat(t,"count")]+"parent"]=this.tags.parent,this.tags.parent=t+this.tags["".concat(t,"count")]},this.retrieve_tag=function(t){if(this.tags["".concat(t,"count")]){for(var e=this.tags.parent;e&&t+this.tags["".concat(t,"count")]!==e;)e=this.tags["".concat(e,"parent")];e&&(this.indent_level=this.tags[t+this.tags["".concat(t,"count")]],this.tags.parent=this.tags[e+"parent"]),delete this.tags[t+this.tags["".concat(t,"count")]+"parent"],delete this.tags[t+this.tags["".concat(t,"count")]],1===this.tags["".concat(t,"count")]?delete this.tags["".concat(t,"count")]:this.tags["".concat(t,"count")]--}},this.indent_to_tag=function(t){if(this.tags["".concat(t,"count")]){for(var e=this.tags.parent;e&&t+this.tags["".concat(t,"count")]!==e;)e=this.tags["".concat(e,"parent")];e&&(this.indent_level=this.tags[t+this.tags["".concat(t,"count")]])}},this.get_tag=function(t){var e,n,i="",r=[],s="",a=!1,_=!0,c=this.pos,l=this.line_char_count;t=void 0!==t&&t;do{if(this.pos>=this.input.length)return t&&(this.pos=c,this.line_char_count=l),r.length?r.join(""):["","TK_EOF"];if(i=this.input.charAt(this.pos),this.pos++,this.Utils.in_array(i,this.Utils.whitespace))a=!0;else{if("'"!==i&&'"'!==i||(i+=this.get_unformatted(i),a=!0),"="===i&&(a=!1),r.length&&"="!=r[r.length-1]&&">"!=i&&a){if(this.space_or_wrap(r),a=!1,!_&&"force"===f&&"/"!=i){this.print_newline(!0,r),this.print_indentation(r);for(var p=0;p<T;p++)r.push(o)}for(var u=0;u<r.length;u++)if(" "===r[u]){_=!1;break}}if(d&&"<"===n&&i+this.input.charAt(this.pos)==="{{"&&(i+=this.get_unformatted("}}"),r.length&&" "!=r[r.length-1]&&"<"!=r[r.length-1]&&(i=" ".concat(i)),a=!0),"<"!==i||n||(e=this.pos-1,n="<"),d&&!n&&2<=r.length&&"{"===r[r.length-1]&&"{"===r[r.length-2]&&(e="#"===i||"/"===i||"!"===i?this.pos-3:this.pos-2,n="{"),this.line_char_count++,r.push(i),r[1]&&("!"===r[1]||"?"===r[1]||"%"===r[1])||d&&r[1]&&"{"===r[1]&&r[2]&&"!"===r[2]){r=[this.get_comment(e)];break}if(d&&"{"===n&&2<r.length&&"}"===r[r.length-2]&&"}"===r[r.length-1])break}}while(">"!=i);var E,g,w=r.join("");E=-1!=w.indexOf(" ")?w.indexOf(" "):"{"===w[0]?w.indexOf("}"):w.indexOf(">"),g="<"!==w[0]&&d?"#"===w[2]?3:2:1;var x=w.substring(g,E).toLowerCase();return"/"===w.charAt(w.length-2)||this.Utils.in_array(x,this.Utils.single_token)?t||(this.tag_type="SINGLE"):d&&"{"===w[0]&&"else"===x?t||(this.indent_to_tag("if"),this.tag_type="HANDLEBARS_ELSE",this.indent_content=!0,this.traverse_whitespace()):this.is_unformatted(x,h)?(s=this.get_unformatted("</".concat(x,">"),w),r.push(s),this.pos,this.tag_type="SINGLE"):"script"===x&&(-1===w.search("type")||-1<w.search("type")&&-1<w.search(/\b(text|application)\/(x-)?(javascript|ecmascript|jscript|livescript)/))?t||(this.record_tag(x),this.tag_type="SCRIPT"):"style"===x&&(-1===w.search("type")||-1<w.search("type")&&-1<w.search("text/css"))?t||(this.record_tag(x),this.tag_type="STYLE"):"!"===x.charAt(0)?t||(this.tag_type="SINGLE",this.traverse_whitespace()):t||("/"===x.charAt(0)?(this.retrieve_tag(x.substring(1)),this.tag_type="END"):(this.record_tag(x),"html"!=x.toLowerCase()&&(this.indent_content=!0),this.tag_type="START"),this.traverse_whitespace()&&this.space_or_wrap(r),this.Utils.in_array(x,this.Utils.extra_liners)&&(this.print_newline(!1,this.output),this.output.length&&"\n"!=this.output[this.output.length-2]&&this.print_newline(!0,this.output))),t&&(this.pos=c,this.line_char_count=l),r.join("")},this.get_comment=function(t){var e="",n=">",i=!1;this.pos=t;var r=this.input.charAt(this.pos);for(this.pos++;this.pos<=this.input.length&&((e+=r)[e.length-1]!==n[n.length-1]||-1==e.indexOf(n));)!i&&e.length<10&&(0===e.indexOf("<![if")?(n="<![endif]>",i=!0):0===e.indexOf("<![cdata[")?(n="]]>",i=!0):0===e.indexOf("<![")?(n="]>",i=!0):0===e.indexOf("\x3c!--")?(n="--\x3e",i=!0):0===e.indexOf("{{!")?(n="}}",i=!0):0===e.indexOf("<?")?(n="?>",i=!0):0===e.indexOf("<%")&&(n="%>",i=!0)),r=this.input.charAt(this.pos),this.pos++;return e},this.get_unformatted=function(t,e){if(e&&-1!=e.toLowerCase().indexOf(t))return"";var n="",i="",r=!0,s="";do{if(this.pos>=this.input.length)break;if(n=this.input.charAt(this.pos),this.pos++,this.Utils.in_array(n,this.Utils.whitespace)){if(!r){this.line_char_count--;continue}if("\n"===n||"\r"===n){i+="\n",this.line_char_count=0;continue}}i+=n,(s+=n.toLowerCase()).length>t.length&&(s=s.substring(1)),this.line_char_count++,r=!0,d&&"{"===n&&i.length&&"{"===i[i.length-2]&&(i+=this.get_unformatted("}}"))}while(s!==t);return i},this.get_token=function(){if("TK_TAG_SCRIPT"!==this.last_token&&"TK_TAG_STYLE"!==this.last_token)return"CONTENT"===this.current_mode?"string"!=typeof(t=this.get_content())?t:[t,"TK_CONTENT"]:"TAG"===this.current_mode?"string"!=typeof(t=this.get_tag())?t:[t,"TK_TAG_".concat(this.tag_type)]:void 0;var t,e=this.last_token.substr(7);return"string"!=typeof(t=this.get_contents_to(e))?t:[t,"TK_".concat(e)]},this.get_full_indent=function(t){return(t=this.indent_level+t||0)<1?"":Array(t+1).join(this.indent_string)},this.is_unformatted=function(t,e){if(!this.Utils.in_array(t,e))return!1;if("a"!=t.toLowerCase()||!this.Utils.in_array("a",e))return!0;var n=(this.get_tag(!0)||"").match(/^\s*<\s*\/?([a-z]*)\s*[^>]*>\s*$/);return!(n&&!this.Utils.in_array(n,e))},this.printer=function(t,e,i,r,s){this.input=t||"",this.output=[],this.indent_character=e,this.indent_string="",this.indent_size=i,this.brace_style=s,this.indent_level=0,this.wrap_line_length=r;for(var a=this.line_char_count=0;a<this.indent_size;a++)this.indent_string+=this.indent_character;this.print_newline=function(t,e){this.line_char_count=0,e&&e.length&&(t||"\n"!=e[e.length-1])&&("\n"!=e[e.length-1]&&(e[e.length-1]=n(e[e.length-1])),e.push("\n"))},this.print_indentation=function(t){for(var e=0;e<this.indent_level;e++)t.push(this.indent_string),this.line_char_count+=this.indent_string.length},this.print_token=function(t){this.is_whitespace(t)&&!this.output.length||((t||""!==t)&&this.output.length&&"\n"===this.output[this.output.length-1]&&(this.print_indentation(this.output),t=t.replace(/^\s+/g,"")),this.print_token_raw(t))},this.print_token_raw=function(t){0<this.newlines&&(t=n(t)),t&&""!==t&&(1<t.length&&"\n"===t[t.length-1]?(this.output.push(t.slice(0,-1)),this.print_newline(!1,this.output)):this.output.push(t));for(var e=0;e<this.newlines;e++)this.print_newline(0<e,this.output);this.newlines=0},this.indent=function(){this.indent_level++},this.unindent=function(){0<this.indent_level&&this.indent_level--}},this}).printer(t,o,a,c,l);;){var i,s,a,o,c,l,h,p,u,d,f,T,E,g,w=i.get_token();if(i.token_text=w[0],i.token_type=w[1],"TK_EOF"===i.token_type)break;switch(i.token_type){case"TK_TAG_START":i.print_newline(!1,i.output),i.print_token(i.token_text),i.indent_content&&(i.indent(),i.indent_content=!1),i.current_mode="CONTENT";break;case"TK_TAG_STYLE":case"TK_TAG_SCRIPT":i.print_newline(!1,i.output),i.print_token(i.token_text),i.current_mode="CONTENT";break;case"TK_TAG_END":if("TK_CONTENT"===i.last_token&&""===i.last_text){var x=i.token_text.match(/\w+/)[0],K=null;i.output.length&&(K=i.output[i.output.length-1].match(/(?:<|{{#)\/?\s*(\w+)/)),null!==K&&(K[1]==x||i.Utils.in_array(K[1],h))||i.print_newline(!1,i.output)}i.print_token(i.token_text),i.current_mode="CONTENT";break;case"TK_TAG_SINGLE":var v=i.token_text.match(/^\s*<([a-z-]+)/i);v&&i.Utils.in_array(v[1],h)||i.print_newline(!1,i.output),i.print_token(i.token_text),i.current_mode="CONTENT";break;case"TK_TAG_HANDLEBARS_ELSE":i.print_token(i.token_text),i.indent_content&&(i.indent(),i.indent_content=!1),i.current_mode="CONTENT";break;case"TK_TAG_HANDLEBARS_COMMENT":case"TK_CONTENT":i.print_token(i.token_text),i.current_mode="TAG";break;case"TK_STYLE":case"TK_SCRIPT":if(""!==i.token_text){i.print_newline(!1,i.output);var R=i.token_text,m=void 0,b=1;"TK_SCRIPT"===i.token_type?m=_:"TK_STYLE"===i.token_type&&(m=r),"keep"===e.indent_scripts?b=0:"separate"===e.indent_scripts&&(b=-i.indent_level);var S=i.get_full_indent(b);if(m)R=m(R.replace(/^\s*/,S),e);else{var k=R.match(/^\s*/)[0].match(/[^\n\r]*$/)[0].split(i.indent_string).length-1,A=i.get_full_indent(b-k);R=R.replace(/^\s*/,S).replace(/\r\n|\r|\n/g,"\n"+A).replace(/\s+$/,"")}R&&(i.print_token_raw(R),i.print_newline(!0,i.output))}i.current_mode="TAG";break;default:""!==i.token_text&&i.print_token(i.token_text)}i.last_token=i.token_type,i.last_text=i.token_text}var y=i.output.join("").replace(/[\r\n\t ]+$/,"");return E&&(y+="\n"),y}}}}}]);