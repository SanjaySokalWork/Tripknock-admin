(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8407],{94495:(e,t,s)=>{Promise.resolve().then(s.bind(s,76642))},76642:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>u});var a=s(95155),n=s(12115),r=s(12983);let o=(0,r.A)((0,a.jsx)("path",{d:"M10 18h4v-2h-4zM3 6v2h18V6zm3 7h12v-2H6z"}),"FilterList"),i=(0,r.A)((0,a.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m-2 15-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8z"}),"CheckCircle"),l=(0,r.A)((0,a.jsx)("path",{d:"M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2m5 13.59L15.59 17 12 13.41 8.41 17 7 15.59 10.59 12 7 8.41 8.41 7 12 10.59 15.59 7 17 8.41 13.41 12z"}),"Cancel"),c=(0,r.A)((0,a.jsx)("path",{d:"M12 8c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2m0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2m0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2"}),"MoreVert");var d=s(8077),m=s(38258),x=s(97908);function u(){let{showSuccess:e,showError:t,showInfo:s}=(0,d.h)(),{setLoading:r,isLoading:u}=(0,m.M)(),[h,f]=(0,n.useState)([]);(0,n.useEffect)(()=>{document.title="Bookings - Admin Panel",p()},[]);let p=async()=>{r("fetchBookings",!0,"Loading bookings...");try{await new Promise(e=>setTimeout(e,1e3)),f([{id:1,customer:"John Doe",email:"john.doe@example.com",tour:"Paris City Tour",date:"Jan 15, 2024",amount:"₹599",status:"confirmed",participants:2,notes:"Vegetarian meal preference"},{id:2,customer:"Jane Smith",email:"jane.smith@example.com",tour:"Swiss Alps Adventure",date:"Jan 20, 2024",amount:"₹899",status:"pending",participants:4,notes:"Early check-in requested"},{id:3,customer:"Mike Johnson",email:"mike.j@example.com",tour:"Tokyo Explorer",date:"Feb 5, 2024",amount:"₹799",status:"confirmed",participants:1,notes:""},{id:4,customer:"Sarah Wilson",email:"sarah.w@example.com",tour:"Rome Historical Walk",date:"Feb 10, 2024",amount:"₹399",status:"cancelled",participants:2,notes:"Cancellation due to emergency"}])}catch(e){console.log("Error fetching bookings:",e),t("Failed to load bookings")}finally{r("fetchBookings",!1)}},b=async(s,a)=>{r("updateStatus",!0,"".concat("confirmed"===a?"Confirming":"Cancelling"," booking..."));try{await new Promise(e=>setTimeout(e,500)),f(e=>e.map(e=>e.id===s?{...e,status:a}:e)),e("Booking ".concat("confirmed"===a?"confirmed":"cancelled"," successfully"))}catch(e){console.log("Error updating booking:",e),t("Failed to update booking status")}finally{r("updateStatus",!1)}},g=e=>{switch(e){case"confirmed":return"badge-success";case"pending":return"badge-warning";case"cancelled":return"badge-error";default:return"badge-secondary"}};return u("fetchBookings")?(0,a.jsx)(x.A,{}):(0,a.jsxs)("div",{className:"p-6 space-y-6",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsx)("h1",{className:"text-2xl font-bold text-secondary-900",children:"Bookings"}),(0,a.jsxs)("div",{className:"flex gap-3",children:[(0,a.jsxs)("select",{className:"input-field min-w-[150px]",children:[(0,a.jsx)("option",{value:"",children:"All Status"}),(0,a.jsx)("option",{value:"confirmed",children:"Confirmed"}),(0,a.jsx)("option",{value:"pending",children:"Pending"}),(0,a.jsx)("option",{value:"cancelled",children:"Cancelled"})]}),(0,a.jsxs)("button",{className:"btn-secondary inline-flex items-center gap-2",children:[(0,a.jsx)(o,{className:"w-5 h-5"}),"Filter"]})]})]}),(0,a.jsxs)("div",{className:"card",children:[(0,a.jsx)("div",{className:"overflow-x-auto",children:(0,a.jsxs)("table",{className:"w-full",children:[(0,a.jsx)("thead",{children:(0,a.jsxs)("tr",{className:"border-b border-secondary-200",children:[(0,a.jsx)("th",{className:"text-left py-3 px-4 text-secondary-500 font-medium",children:"Customer"}),(0,a.jsx)("th",{className:"text-left py-3 px-4 text-secondary-500 font-medium",children:"Tour"}),(0,a.jsx)("th",{className:"text-left py-3 px-4 text-secondary-500 font-medium",children:"Date"}),(0,a.jsx)("th",{className:"text-left py-3 px-4 text-secondary-500 font-medium",children:"Amount"}),(0,a.jsx)("th",{className:"text-left py-3 px-4 text-secondary-500 font-medium",children:"Status"}),(0,a.jsx)("th",{className:"text-left py-3 px-4 text-secondary-500 font-medium",children:"Actions"})]})}),(0,a.jsx)("tbody",{className:"divide-y divide-secondary-100",children:h.map(e=>(0,a.jsxs)("tr",{className:"group hover:bg-secondary-50",children:[(0,a.jsx)("td",{className:"py-3 px-4",children:(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"font-medium text-secondary-900",children:e.customer}),(0,a.jsx)("div",{className:"text-sm text-secondary-500",children:e.email})]})}),(0,a.jsx)("td",{className:"py-3 px-4",children:(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"text-secondary-900",children:e.tour}),(0,a.jsxs)("div",{className:"text-sm text-secondary-500",children:[e.participants," participants"]})]})}),(0,a.jsx)("td",{className:"py-3 px-4 text-secondary-900",children:e.date}),(0,a.jsx)("td",{className:"py-3 px-4",children:(0,a.jsx)("span",{className:"font-medium text-secondary-900",children:e.amount})}),(0,a.jsx)("td",{className:"py-3 px-4",children:(0,a.jsx)("span",{className:"badge ".concat(g(e.status)),children:e.status})}),(0,a.jsx)("td",{className:"py-3 px-4",children:(0,a.jsxs)("div",{className:"flex items-center gap-2 opacity-0 group-hover:opacity-100 transition-all",children:["pending"===e.status&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("button",{onClick:()=>b(e.id,"confirmed"),disabled:u("updateStatus"),className:"p-1 text-green-600 hover:bg-green-50 rounded-lg disabled:opacity-50",title:"Confirm Booking",children:(0,a.jsx)(i,{className:"w-5 h-5"})}),(0,a.jsx)("button",{onClick:()=>b(e.id,"cancelled"),disabled:u("updateStatus"),className:"p-1 text-red-600 hover:bg-red-50 rounded-lg disabled:opacity-50",title:"Cancel Booking",children:(0,a.jsx)(l,{className:"w-5 h-5"})})]}),(0,a.jsx)("button",{className:"p-1 text-secondary-400 hover:text-secondary-600 hover:bg-secondary-100 rounded-lg",title:"More Options",children:(0,a.jsx)(c,{className:"w-5 h-5"})})]})})]},e.id))})]})}),(0,a.jsxs)("div",{className:"flex items-center justify-between px-4 py-3 border-t border-secondary-200",children:[(0,a.jsxs)("div",{className:"text-sm text-secondary-500",children:["Showing ",(0,a.jsx)("span",{className:"font-medium",children:"1"})," to ",(0,a.jsx)("span",{className:"font-medium",children:"10"})," of"," ",(0,a.jsx)("span",{className:"font-medium",children:"20"})," bookings"]}),(0,a.jsxs)("div",{className:"flex gap-2",children:[(0,a.jsx)("button",{className:"btn-secondary px-4 py-2",children:"Previous"}),(0,a.jsx)("button",{className:"btn-primary px-4 py-2",children:"Next"})]})]})]})]})}},97908:(e,t,s)=>{"use strict";s.d(t,{A:()=>n});var a=s(95155);function n(){return(0,a.jsx)("div",{className:"flex items-center justify-center min-h-[200px]",children:(0,a.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary-500"})})}},38258:(e,t,s)=>{"use strict";s.d(t,{M:()=>c,o:()=>d});var a=s(95155),n=s(12115),r=s(44522),o=s(7743),i=s(10810);let l=(0,n.createContext)(),c=()=>{let e=(0,n.useContext)(l);if(!e)throw Error("useLoading must be used within a LoadingProvider");return e},d=e=>{let{children:t}=e,[s,c]=(0,n.useState)({}),[d,m]=(0,n.useState)(!1),[x,u]=(0,n.useState)("");return(0,a.jsxs)(l.Provider,{value:{setLoading:function(e,t){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";c(s=>({...s,[e]:t})),t&&s&&u(s)},isLoading:e=>s[e]||!1,showGlobalLoading:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Loading...";u(e),m(!0)},hideGlobalLoading:()=>{m(!1),u("")},hasAnyLoading:()=>d||Object.values(s).some(e=>e),globalLoading:d},children:[t,(0,a.jsxs)(r.A,{sx:{color:"#fff",zIndex:e=>e.zIndex.drawer+1,backgroundColor:"rgba(0, 0, 0, 0.7)",flexDirection:"column",gap:2},open:d,children:[(0,a.jsx)(o.A,{color:"inherit",size:60}),x&&(0,a.jsx)(i.A,{variant:"h6",component:"div",children:x})]})]})}},8077:(e,t,s)=>{"use strict";s.d(t,{h:()=>l,p:()=>d});var a=s(95155),n=s(58803),r=s.n(n),o=s(12115);let i=(0,o.createContext)(),l=()=>{let e=(0,o.useContext)(i);if(!e)throw Error("useNotification must be used within a NotificationProvider");return e},c=e=>{let{notification:t,onRemove:s}=e;return(0,o.useEffect)(()=>{if(t.autoHide){let e=setTimeout(()=>{s(t.id)},t.duration);return()=>clearTimeout(e)}},[t,s]),(0,a.jsxs)("div",{className:"flex items-center justify-between p-4 mb-3 rounded-lg shadow-lg min-w-[300px] max-w-[400px] border-l-4 transform transition-all duration-300",style:{animation:"slideIn 0.3s ease-out",...(e=>{switch(e){case"success":return{backgroundColor:"#10B981",color:"white",borderLeftColor:"#059669"};case"error":return{backgroundColor:"#EF4444",color:"white",borderLeftColor:"#DC2626"};case"warning":return{backgroundColor:"#F59E0B",color:"white",borderLeftColor:"#D97706"};case"info":return{backgroundColor:"#3B82F6",color:"white",borderLeftColor:"#2563EB"};default:return{backgroundColor:"#6B7280",color:"white",borderLeftColor:"#4B5563"}}})(t.type)},children:[(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("span",{className:"text-xl mr-3 font-bold",children:(e=>{switch(e){case"success":return"✓";case"error":return"✕";case"warning":return"⚠";case"info":return"ℹ";default:return"•"}})(t.type)}),(0,a.jsx)("span",{className:"text-sm font-medium",children:t.message})]}),(0,a.jsx)("button",{onClick:()=>s(t.id),className:"ml-4 text-white hover:text-gray-200 font-bold text-lg",children:"\xd7"})]})},d=e=>{let{children:t}=e,[s,n]=(0,o.useState)([]),l=(0,o.useCallback)(function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"success",s=!(arguments.length>2)||void 0===arguments[2]||arguments[2],a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:5e3,r=Date.now()+Math.random(),o={id:r,message:e,type:t,autoHide:s,duration:a};return n(e=>[...e,o]),r},[]),d=(0,o.useCallback)(e=>{n(t=>t.filter(t=>t.id!==e))},[]),m=(0,o.useCallback)(function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return l(e,"success",t,5e3)},[l]),x=(0,o.useCallback)(function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return l(e,"error",t,7e3)},[l]),u=(0,o.useCallback)(function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return l(e,"warning",t,6e3)},[l]),h=(0,o.useCallback)(function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return l(e,"info",t,4e3)},[l]),f=(0,o.useCallback)(()=>{m("Test notification is working!")},[m]),p=(0,o.useCallback)(()=>({addNotification:l,removeNotification:d,showSuccess:m,showError:x,showWarning:u,showInfo:h,testNotification:f}),[l,d,m,x,u,h,f]);return(0,a.jsxs)(i.Provider,{value:p(),children:[t,(0,a.jsx)("div",{style:{position:"fixed",top:"20px",right:"20px",zIndex:999999,pointerEvents:"none"},className:"jsx-5de7ed1ad044b70b",children:(0,a.jsx)("div",{style:{pointerEvents:"auto"},className:"jsx-5de7ed1ad044b70b",children:s.map(e=>(0,a.jsx)(c,{notification:e,onRemove:d},e.id))})}),(0,a.jsx)(r(),{id:"5de7ed1ad044b70b",children:"@-webkit-keyframes slideIn{from{-webkit-transform:translatex(100%);transform:translatex(100%);opacity:0}to{-webkit-transform:translatex(0);transform:translatex(0);opacity:1}}@-moz-keyframes slideIn{from{-moz-transform:translatex(100%);transform:translatex(100%);opacity:0}to{-moz-transform:translatex(0);transform:translatex(0);opacity:1}}@-o-keyframes slideIn{from{-o-transform:translatex(100%);transform:translatex(100%);opacity:0}to{-o-transform:translatex(0);transform:translatex(0);opacity:1}}@keyframes slideIn{from{-webkit-transform:translatex(100%);-moz-transform:translatex(100%);-o-transform:translatex(100%);transform:translatex(100%);opacity:0}to{-webkit-transform:translatex(0);-moz-transform:translatex(0);-o-transform:translatex(0);transform:translatex(0);opacity:1}}"})]})}}},e=>{var t=t=>e(e.s=t);e.O(0,[2983,401,8441,1517,7358],()=>t(94495)),_N_E=e.O()}]);