exports.id=3028,exports.ids=[3028],exports.modules={93028:function(e,t,o){var i;Object.assign((i=(i=o(48989))&&i.hasOwnProperty("default")?i.default:i).POPUP_TEMPLATES,{"video.insert":"[_BUTTONS_][_BY_URL_LAYER_][_EMBED_LAYER_][_UPLOAD_LAYER_][_PROGRESS_BAR_]","video.edit":"[_BUTTONS_]","video.size":"[_BUTTONS_][_SIZE_LAYER_]"}),Object.assign(i.DEFAULTS,{videoAllowedTypes:["mp4","webm","ogg","mp3","mpeg","url"],videoAllowedProviders:[".*"],videoDefaultAlign:"center",videoDefaultDisplay:"block",videoDefaultWidth:600,videoEditButtons:["videoReplace","videoRemove","videoDisplay","videoAlign","videoSize","autoplay"],videoInsertButtons:["videoBack","|","videoByURL","videoEmbed","videoUpload"],videoMaxSize:0x3200000,videoMove:!0,videoResize:!0,videoResponsive:!1,videoSizeButtons:["videoBack","|"],videoSplitHTML:!1,videoTextNear:!0,videoUpload:!0,videoUploadMethod:"POST",videoUploadParam:"file",videoUploadParams:{},videoUploadToS3:!1,videoUploadToAzure:!1,videoUploadURL:null}),i.VIDEO_PROVIDERS=[{test_regex:/^.*((youtu.be)|(youtube.com))\/((v\/)|(\/u\/\w\/)|(embed\/)|(watch\?))?\/?((shorts\/)|(v=))?([^#\&\?]*).*/,url_regex:/(?:https?:\/\/)?(?:www\.)?(?:m\.)?(?:youtube\.com|youtu\.be)\/(?:watch\?v=|embed\/|shorts\/)?([0-9a-zA-Z_\-]+)(.*)?/g,url_text:"https://www.youtube.com/embed/$1?$2",html:'<iframe width="640" height="360" src="{url}&wmode=opaque&rel=0" frameborder="0" allowfullscreen></iframe>',provider:"youtube"},{test_regex:/^.*(?:vimeo.com)\/(?:channels(\/\w+\/)?|groups\/*\/videos\/\u200b\d+\/|video\/|)(\d+)(?:$|\/|\?)/,url_regex:/(?:https?:\/\/)?(?:www\.|player\.)?vimeo.com\/(?:channels\/(?:\w+\/)?|groups\/(?:[^\/]*)\/videos\/|album\/(?:\d+)\/video\/|video\/|)(\d+)(?:[a-zA-Z0-9_\-]+)?(\/[a-zA-Z0-9_\-]+)?/i,url_text:"https://player.vimeo.com/video/$1",html:'<iframe width="640" height="360" src="{url}" frameborder="0" allowfullscreen></iframe>',provider:"vimeo"},{test_regex:/^.+(dailymotion.com|dai.ly)\/(video|hub)?\/?([^_]+)[^#]*(#video=([^_&]+))?/,url_regex:/(?:https?:\/\/)?(?:www\.)?(?:dailymotion\.com|dai\.ly)\/(?:video|hub)?\/?(.+)/g,url_text:"https://www.dailymotion.com/embed/video/$1",html:'<iframe width="640" height="360" src="{url}" frameborder="0" allowfullscreen></iframe>',provider:"dailymotion"},{test_regex:/^.+(screen.yahoo.com)\/[^_&]+/,url_regex:"",url_text:"",html:'<iframe width="640" height="360" src="{url}?format=embed" frameborder="0" allowfullscreen="true" mozallowfullscreen="true" webkitallowfullscreen="true" allowtransparency="true"></iframe>',provider:"yahoo"},{test_regex:/^.+(rutube.ru)\/[^_&]+/,url_regex:/(?:https?:\/\/)?(?:www\.)?(?:rutube\.ru)\/(?:video)?\/?(.+)/g,url_text:"https://rutube.ru/play/embed/$1",html:'<iframe width="640" height="360" src="{url}" frameborder="0" allowfullscreen="true" mozallowfullscreen="true" webkitallowfullscreen="true" allowtransparency="true"></iframe>',provider:"rutube"},{test_regex:/^(?:.+)vidyard.com\/(?:watch)?\/?([^.&/]+)\/?(?:[^_.&]+)?/,url_regex:/^(?:.+)vidyard.com\/(?:watch)?\/?([^.&/]+)\/?(?:[^_.&]+)?/g,url_text:"https://play.vidyard.com/$1",html:'<iframe width="640" height="360" src="{url}" frameborder="0" allowfullscreen></iframe>',provider:"vidyard"}],i.VIDEO_EMBED_REGEX=/^\W*(<div[^>]*>\s*<iframe[^>]*>.*?<\/iframe>\s*<\/div>(\s*<script[^>]*>.*?<\/script>)?|<iframe[^>]*>.*?<\/iframe>|<embed(.|\n)*>)\W*$/i,i.PLUGINS.video=function(e){var t,o,a,r,n,s,d=e.$,l={};function p(){var t=e.popups.get("video.insert");t.find(".fr-video-by-url-layer input").val("").trigger("change");var o=t.find(".fr-video-embed-layer textarea");o.val("").trigger("change"),(o=t.find(".fr-video-upload-layer input")).val("").trigger("change")}function f(){var t=e.popups.get("video.edit");if(t||(t=function(){var t="";if(0<e.opts.videoEditButtons.length){e.opts.videoResponsive&&(-1<e.opts.videoEditButtons.indexOf("videoSize")&&e.opts.videoEditButtons.splice(e.opts.videoEditButtons.indexOf("videoSize"),1),-1<e.opts.videoEditButtons.indexOf("videoDisplay")&&e.opts.videoEditButtons.splice(e.opts.videoEditButtons.indexOf("videoDisplay"),1),-1<e.opts.videoEditButtons.indexOf("videoAlign")&&e.opts.videoEditButtons.splice(e.opts.videoEditButtons.indexOf("videoAlign"),1));var o={buttons:t+='<div class="fr-buttons"> \n      '.concat(e.button.buildList(e.opts.videoEditButtons)," \n      </div>")},i=e.popups.create("video.edit",o);return e.events.$on(e.$wp,"scroll.video-edit",function(){r&&e.popups.isVisible("video.edit")&&(e.events.disableBlur(),w(r))}),i}return!1}()),t){e.popups.setContainer("video.edit",e.$sc),e.popups.refresh("video.edit");var o=r.find("iframe, embed, ".concat(r.find("iframe, embed, audio").get(0)?"audio":"video")),i=o.offset().left+o.outerWidth()/2,a=o.offset().top+o.outerHeight(),n=o.get(0).src?o.get(0).src:o.get(0).currentSrc,s=!(!(n=(n=n.split("."))[n.length-1]).includes("pdf")&&!n.includes("txt"));o.hasClass("fr-file")||s||r.find("audio").get(0)?(document.getElementById("autoplay-".concat(e.id))&&(document.getElementById("autoplay-".concat(e.id)).style.display="none"),document.getElementById("videoReplace-".concat(e.id))&&(document.getElementById("videoReplace-".concat(e.id)).style.display="none")):(document.getElementById("autoplay-".concat(e.id))&&(document.getElementById("autoplay-".concat(e.id)).style.display=""),document.getElementById("videoReplace-".concat(e.id))&&(document.getElementById("videoReplace-".concat(e.id)).style.display="")),e.popups.show("video.edit",i,a,o.outerHeight(),!0)}}function c(t){if(t)return e.popups.onRefresh("video.insert",p),e.popups.onHide("video.insert",F),!0;var o="";e.opts.videoUpload||-1===e.opts.videoInsertButtons.indexOf("videoUpload")||e.opts.videoInsertButtons.splice(e.opts.videoInsertButtons.indexOf("videoUpload"),1);var i=e.button.buildList(e.opts.videoInsertButtons);""!==i&&(o='<div class="fr-buttons">'+i+"</div>");var a,r="",n=e.opts.videoInsertButtons.indexOf("videoUpload"),s=e.opts.videoInsertButtons.indexOf("videoByURL"),l=e.opts.videoInsertButtons.indexOf("videoEmbed");0<=s&&(a=" fr-active",(n<s&&0<=n||l<s&&0<=l)&&(a=""),r='<div class="fr-video-by-url-layer fr-layer'.concat(a,'" id="fr-video-by-url-layer-').concat(e.id,'"><div class="fr-input-line"><input id="fr-video-by-url-layer-text-').concat(e.id,'" type="text" placeholder="').concat(e.language.translate("Paste in a video URL"),'" tabIndex="1" aria-required="true"></div><div class="fr-action-buttons"><span style=\'float:left\'><div class="fr-checkbox-line fr-autoplay-margin"><span class="fr-checkbox"> <input id=\'videoPluginAutoplay\' data-checked="_blank" type="checkbox"> <span>').concat('<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="10" height="10" viewBox="0 0 32 32"><path d="M27 4l-15 15-7-7-5 5 12 12 20-20z" fill="#FFF"></path></svg>','</span></span> <label id="fr-label-target-').concat(e.id,'">Autoplay</label></div> </span><button type="button" class="fr-command fr-submit" data-cmd="videoInsertByURL" tabIndex="2" role="button">').concat(e.language.translate("Insert"),"</button></div></div>"));var f="";0<=l&&(a=" fr-active",(n<l&&0<=n||s<l&&0<=s)&&(a=""),f='<div class="fr-video-embed-layer fr-layer'.concat(a,'" id="fr-video-embed-layer-').concat(e.id,'"><div class="fr-input-line"><textarea id="fr-video-embed-layer-text').concat(e.id,'" type="text" placeholder="').concat(e.language.translate("Embedded Code"),'" tabIndex="1" aria-required="true" rows="5"></textarea></div><div class="fr-action-buttons"><button type="button" class="fr-command fr-submit" data-cmd="videoInsertEmbed" tabIndex="2" role="button">').concat(e.language.translate("Insert"),"</button></div></div>"));var c="";0<=n&&(a=" fr-active",(l<n&&0<=l||s<n&&0<=s)&&(a=""),c='<div class="fr-video-upload-layer fr-layer'.concat(a,'" id="fr-video-upload-layer-').concat(e.id,'"><strong>').concat(e.language.translate("Drop video"),"</strong><br>(").concat(e.language.translate("or click"),')<div class="fr-form"><input type="file" accept="video/').concat(e.opts.videoAllowedTypes.join(", video/").toLowerCase(),'" tabIndex="-1" aria-labelledby="fr-video-upload-layer-').concat(e.id,'" role="button"></div></div>'));var v={buttons:o,by_url_layer:r,embed_layer:f,upload_layer:c,progress_bar:'<div class="fr-video-progress-bar-layer fr-layer"><h3 tabIndex="-1" class="fr-message">Uploading</h3><div class="fr-loader"><span class="fr-progress"></span></div><div class="fr-action-buttons"><button type="button" class="fr-command fr-dismiss" data-cmd="videoDismissError" tabIndex="2" role="button">OK</button></div></div>'},u=e.popups.create("video.insert",v);return e.events.$on(u,"dragover dragenter",".fr-video-upload-layer",function(){return d(this).addClass("fr-drop"),!1},!0),e.events.$on(u,"dragleave dragend",".fr-video-upload-layer",function(){return d(this).removeClass("fr-drop"),!1},!0),e.events.$on(u,"drop",".fr-video-upload-layer",function(t){t.preventDefault(),t.stopPropagation(),d(this).removeClass("fr-drop");var o=t.originalEvent.dataTransfer;if(o&&o.files){var i=u.data("instance")||e;i.events.disableBlur(),i.video.upload(o.files),i.events.enableBlur()}},!0),e.helpers.isIOS()&&e.events.$on(u,"touchstart",'.fr-video-upload-layer input[type="file"]',function(){d(this).trigger("click")},!0),e.events.$on(u,"change",'.fr-video-upload-layer input[type="file"]',function(){if(this.files){var t=u.data("instance")||e;t.events.disableBlur(),u.find("input:focus").blur(),t.events.enableBlur(),t.video.upload(this.files)}d(this).val("")},!0),u}function v(t){e.events.focus(!0),e.selection.restore();var o=!1;if(r&&(K(),o=!0),e.opts.trackChangesEnabled){e.edit.on(),e.events.focus(!0),e.selection.restore(),e.undo.saveStep(),e.markers.insert(),e.html.wrap();var i=e.$el.find(".fr-marker");e.node.isLastSibling(i)&&i.parent().hasClass("fr-deletable")&&i.insertAfter(i.parent()),i.replaceWith('<span contenteditable="false" draggable="true" class="fr-jiv fr-video fr-deletable">'.concat(t,"</span>")),e.selection.clear()}else e.html.insert('<span contenteditable="false" draggable="true" class="fr-jiv fr-video fr-deletable">'.concat(t,"</span>"),!1,e.opts.videoSplitHTML);e.popups.hide("video.insert");var a=e.$el.find(".fr-jiv");a.removeClass("fr-jiv"),a.toggleClass("fr-rv",e.opts.videoResponsive),X(a,e.opts.videoDefaultDisplay,e.opts.videoDefaultAlign),a.toggleClass("fr-draggable",e.opts.videoMove),e.events.trigger(o?"video.replaced":"video.inserted",[a])}function u(){var t=d(this);e.popups.hide("video.insert"),t.removeClass("fr-uploading"),t.parent().next().is("br")&&t.parent().next().remove(),w(t.parent()),e.events.trigger("video.loaded",[t.parent()])}function g(t,o,i,a,r,n){e.edit.off(),b("Loading video"),o&&(t=e.helpers.sanitizeURL(t)),h("Loading video"),function(){var o,s;if(a){e.undo.canDo()||a.find("video").hasClass("fr-uploading")||e.undo.saveStep();var d=a.find("video").data("fr-old-src"),l=a.data("fr-replaced");if(a.data("fr-replaced",!1),0<a.find("iframe").length)a.remove(),o=x(t,i,u);else{e.$wp?((o=a.clone(!0)).find("video").removeData("fr-old-src").removeClass("fr-uploading"),o.find("video").off("canplay"),d&&a.find("video").attr("src",d),a.replaceWith(o)):o=a;for(var p=o.find("video").get(0).attributes,f=0;f<p.length;f++){var c=p[f];0===c.nodeName.indexOf("data-")&&o.find("video").removeAttr(c.nodeName)}if(void 0!==i)for(s in i)i.hasOwnProperty(s)&&"link"!=s&&o.find("video").attr("data-".concat(s),i[s]);o.find("video").on("canplay",u),o.find("video").attr("src",t)}e.edit.on(),k(),e.undo.saveStep(),e.$el.blur(),e.events.trigger(l?"video.replaced":"video.inserted",[o,r])}else o=x(t,i,u,n),k(),e.undo.saveStep(),e.events.trigger("video.inserted",[o,r])}()}function h(t){var o=e.popups.get("video.insert");if(o||(o=c()),o.find(".fr-layer.fr-active").removeClass("fr-active").addClass("fr-pactive"),o.find(".fr-video-progress-bar-layer").addClass("fr-active"),o.find(".fr-buttons").hide(),r){var i=r.find("iframe, embed, ".concat(r.find("iframe, embed, audio").get(0)?"audio":"video"));e.popups.setContainer("video.insert",e.$sc);var a=i.offset().left,n=i.offset().top+i.height();e.popups.show("video.insert",a,n,i.outerHeight())}void 0===t&&b(e.language.translate("Uploading"),0)}function m(t){var o=e.popups.get("video.insert");if(o&&(o.find(".fr-layer.fr-pactive").addClass("fr-active").removeClass("fr-pactive"),o.find(".fr-video-progress-bar-layer").removeClass("fr-active"),o.find(".fr-buttons").show(),t||e.$el.find("video.fr-error").length)){if(e.events.focus(),e.$el.find("video.fr-error").length&&(e.$el.find("video.fr-error").parent().remove(),e.undo.saveStep(),e.undo.run(),e.undo.dropRedo()),!e.$wp&&r){var i=r;z(!0),e.selection.setAfter(i.find("video").get(0)),e.selection.restore()}e.popups.hide("video.insert")}}function b(t,o){var i=e.popups.get("video.insert");if(i){var a=i.find(".fr-video-progress-bar-layer");a.find("h3").text(t+(o?" ".concat(o,"%"):"")),a.removeClass("fr-error"),o?(a.find("div").removeClass("fr-indeterminate"),a.find("div > span").css("width","".concat(o,"%"))):a.find("div").addClass("fr-indeterminate")}}function y(t){h();var o=e.popups.get("video.insert").find(".fr-video-progress-bar-layer");o.addClass("fr-error");var i=o.find("h3");i.text(t),e.events.disableBlur(),i.focus()}function w(e){T.call(e.get(0))}function E(t,o,i){b("Loading video");var a,r=this.status,n=this.response,s=this.responseXML,l=this.responseText;try{if(e.opts.videoUploadToS3||e.opts.videoUploadToAzure){if(201==r){if(e.opts.videoUploadToAzure){if(!1===e.events.trigger("video.uploadedToAzure",[this.responseURL,i,n],!0))return e.edit.on(),!1;a=o}else a=function(t){try{var o=d(t).find("Location").text(),i=d(t).find("Key").text();return!1===e.events.trigger("video.uploadedToS3",[o,i,t],!0)?(e.edit.on(),!1):o}catch(e){return M(4,t),!1}}(s);a&&g(a,!1,[],t,n||s)}else M(4,n||s)}else if(200<=r&&r<300){var p=function(t){try{if(!1===e.events.trigger("video.uploaded",[t],!0))return e.edit.on(),!1;var o=JSON.parse(t);return o.link?o:(M(2,t),!1)}catch(e){return M(4,t),!1}}(l);p&&g(p.link,!1,p,t,n||l)}else M(3,n||l)}catch(e){M(4,n||l)}}function A(){M(4,this.response||this.responseText||this.responseXML)}function C(t){if(t.lengthComputable){var o=t.loaded/t.total*100|0;b(e.language.translate("Uploading"),o)}}function S(){e.edit.on(),m(!0)}function x(t,o,i,a){var r,n,s="";if(o&&void 0!==o)for(r in o)o.hasOwnProperty(r)&&"link"!=r&&(s+=" ".concat(r,'="').concat(o[r],'"'));var l=e.opts.videoDefaultWidth;l&&"auto"!=l&&(l="".concat(l,"px")),e.helpers.isMobile()&&e.browser.safari&&(s+=" autoplay playsinline"),(n="audio"==a?d(document.createElement("span")).attr("contenteditable","false").attr("draggable","true").attr("class","fr-video fr-dv"+e.opts.videoDefaultDisplay[0]+("center"!=e.opts.videoDefaultAlign?" fr-fv"+e.opts.videoDefaultAlign[0]:"")).html('<audio src="'+t+'" '+s+" controls>"+e.language.translate("Your browser does not support HTML5 video.")+"</audio>"):d(document.createElement("span")).attr("contenteditable","false").attr("draggable","true").attr("class","fr-video fr-dv"+e.opts.videoDefaultDisplay[0]+("center"!=e.opts.videoDefaultAlign?" fr-fv"+e.opts.videoDefaultAlign[0]:"")).html('<video src="'+t+'" '+s+(l?' style="width: '+l+';" ':"")+" controls>"+e.language.translate("Your browser does not support HTML5 video.")+"</video>")).toggleClass("fr-draggable",e.opts.videoMove),e.edit.on(),e.events.focus(!0),e.selection.restore(),e.undo.saveStep(),e.opts.videoSplitHTML?e.markers.split():(e.cursor.enter(),e.markers.insert()),e.html.wrap();var p=e.$el.find(".fr-marker");return e.node.isLastSibling(p)&&p.parent().hasClass("fr-deletable")&&p.insertAfter(p.parent()),p.replaceWith(n),e.selection.clear(),"audio"!==a&&(n.find("video").get(0).readyState>n.find("video").get(0).HAVE_FUTURE_DATA||e.helpers.isIOS()?i.call(n.find("video").get(0)):n.find("video").on("canplaythrough load",i)),n}function U(i){if(!e.core.sameInstance(a))return!0;i.preventDefault(),i.stopPropagation();var r=i.pageX||(i.originalEvent.touches?i.originalEvent.touches[0].pageX:null),n=i.pageY||(i.originalEvent.touches?i.originalEvent.touches[0].pageY:null);if(!r||!n)return!1;if("mousedown"==i.type){var s=e.$oel.get(0).ownerDocument,l=s.defaultView||s.parentWindow,p=!1;try{p=l.location!=l.parent.location&&!(l.$&&l.$.FE)}catch(e){}p&&l.frameElement&&(r+=e.helpers.getPX(d(l.frameElement).offset().left)+l.frameElement.clientLeft,n=i.clientY+e.helpers.getPX(d(l.frameElement).offset().top)+l.frameElement.clientTop)}e.undo.canDo()||e.undo.saveStep(),(o=d(this)).data("start-x",r),o.data("start-y",n),t.show(),e.popups.hideAll(),$()}function R(t){if(!e.core.sameInstance(a))return!0;if(o){t.preventDefault();var i=t.pageX||(t.originalEvent.touches?t.originalEvent.touches[0].pageX:null),n=t.pageY||(t.originalEvent.touches?t.originalEvent.touches[0].pageY:null);if(!i||!n)return!1;var s=o.data("start-x"),d=o.data("start-y");o.data("start-x",i),o.data("start-y",n);var l=i-s,p=n-d,f=r.find("iframe, embed, ".concat(r.find("iframe, embed, audio").get(0)?"audio":"video")),c=f.width(),v=f.height();(o.hasClass("fr-hnw")||o.hasClass("fr-hsw"))&&(l=0-l),(o.hasClass("fr-hnw")||o.hasClass("fr-hne"))&&(p=0-p),f.css("width",c+l),f.css("height",v+p),f.removeAttr("width"),f.removeAttr("height"),I()}}function _(i){if(!e.core.sameInstance(a))return!0;o&&r&&(i&&i.stopPropagation(),o=null,t.hide(),I(),f(),e.undo.saveStep())}function B(e){return'<div class="fr-handler fr-h'.concat(e,'"></div>')}function D(e,t,o,i){return e.pageX=t,e.pageY=t,U.call(this,e),e.pageX=e.pageX+o*Math.floor(Math.pow(1.1,i)),e.pageY=e.pageY+o*Math.floor(Math.pow(1.1,i)),R.call(this,e),_.call(this,e),++i}function k(){var t,o=Array.prototype.slice.call(e.el.querySelectorAll("video, .fr-video > *")),i=[];for(t=0;t<o.length;t++)i.push(o[t].getAttribute("src")),d(o[t]).toggleClass("fr-draggable",e.opts.videoMove),""===o[t].getAttribute("class")&&o[t].removeAttribute("class"),""===o[t].getAttribute("style")&&o[t].removeAttribute("style");if(n)for(t=0;t<n.length;t++)0>i.indexOf(n[t].getAttribute("src"))&&e.events.trigger("video.removed",[d(n[t])]);n=o}function I(){a||function(){var o;if(e.shared.$video_resizer?(a=e.shared.$video_resizer,t=e.shared.$vid_overlay,e.events.on("destroy",function(){d("body").first().append(a.removeClass("fr-active"))},!0)):(e.shared.$video_resizer=d(document.createElement("div")).attr("class","fr-video-resizer"),a=e.shared.$video_resizer,e.events.$on(a,"mousedown",function(e){e.stopPropagation()},!0),e.opts.videoResize&&(a.append(B("nw")+B("ne")+B("sw")+B("se")),e.shared.$vid_overlay=d(document.createElement("div")).attr("class","fr-video-overlay"),t=e.shared.$vid_overlay,d(o=a.get(0).ownerDocument).find("body").first().append(t))),e.events.on("shared.destroy",function(){a.html("").removeData().remove(),a=null,e.opts.videoResize&&(t.remove(),t=null)},!0),e.helpers.isMobile()||e.events.$on(d(e.o_win),"resize.video",function(){z(!0)}),e.opts.videoResize){o=a.get(0).ownerDocument,e.events.$on(a,e._mousedown,".fr-handler",U),e.events.$on(d(o),e._mousemove,R),e.events.$on(d(o.defaultView||o.parentWindow),e._mouseup,_),e.events.$on(t,"mouseleave",_);var n=1,s=null,l=0;e.events.on("keydown",function(t){if(r){var o=-1!=navigator.userAgent.indexOf("Mac OS X")?t.metaKey:t.ctrlKey,a=t.which;(a!==s||200<t.timeStamp-l)&&(n=1),(a==i.KEYCODE.EQUALS||e.browser.mozilla&&a==i.KEYCODE.FF_EQUALS)&&o&&!t.altKey?n=D.call(this,t,1,1,n):(a==i.KEYCODE.HYPHEN||e.browser.mozilla&&a==i.KEYCODE.FF_HYPHEN)&&o&&!t.altKey&&(n=D.call(this,t,2,-1,n)),s=a,l=t.timeStamp}}),e.events.on("keyup",function(){n=1})}}(),(e.$wp||e.$sc).append(a),a.data("instance",e);var o=r.find("iframe, embed, ".concat(r.find("iframe, embed, audio").get(0)?"audio":"video")),n=0,s=0;e.opts.iframe&&(s=e.helpers.getPX(e.$wp.find(".fr-iframe").css("padding-top")),n=e.helpers.getPX(e.$wp.find(".fr-iframe").css("padding-left"))),a.css("top",(e.opts.iframe?o.offset().top+s-1:o.offset().top-e.$wp.offset().top-1)+e.$wp.scrollTop()).css("left",(e.opts.iframe?o.offset().left+n-1:o.offset().left-e.$wp.offset().left-1)+e.$wp.scrollLeft()).css("width",o.get(0).getBoundingClientRect().width).css("height",o.get(0).getBoundingClientRect().height).addClass("fr-active")}function T(t){if(t&&"touchend"==t.type&&s)return!0;if(t&&e.edit.isDisabled())return t.stopPropagation(),t.preventDefault(),!1;if(e.edit.isDisabled())return!1;for(var o=0;o<i.INSTANCES.length;o++)i.INSTANCES[o]!=e&&i.INSTANCES[o].events.trigger("video.hideResizer");e.toolbar.disable(),e.helpers.isMobile()&&(e.events.disableBlur(),e.$el.blur(),e.events.enableBlur()),e.$el.find(".fr-video.fr-active").removeClass("fr-active"),(r=d(this)).addClass("fr-active"),e.opts.iframe&&e.size.syncIframe(),j(),I(),f(),e.selection.clear(),e.button.bulkRefresh(),e.events.trigger("image.hideResizer")}function z(t){r&&(e.shared.vid_exit_flag||!0===t)&&(a.removeClass("fr-active"),e.toolbar.enable(),r.removeClass("fr-active"),r=null,$())}function P(){e.shared.vid_exit_flag=!0}function $(){e.shared.vid_exit_flag=!1}function L(t){var o=t.originalEvent.dataTransfer;if(o&&o.files&&o.files.length){var a=o.files[0];if(a&&a.type&&-1!==a.type.indexOf("video")){if(!e.opts.videoUpload)return t.preventDefault(),t.stopPropagation(),!1;e.markers.remove(),e.markers.insertAtPoint(t.originalEvent),e.$el.find(".fr-marker").replaceWith(i.MARKERS),e.popups.hideAll();var r=e.popups.get("video.insert");return r||(r=c()),e.popups.setContainer("video.insert",e.$sc),e.popups.show("video.insert",t.originalEvent.pageX,t.originalEvent.pageY),h(),0<=e.opts.videoAllowedTypes.indexOf(a.type.replace(/video\//g,""))?O(o.files):M(6),t.preventDefault(),t.stopPropagation(),!1}}}function O(t){if(void 0!==t&&0<t.length){if(!1===e.events.trigger("video.beforeUpload",[t]))return!1;var o,i=t[0];if(!(null!==e.opts.videoUploadURL&&"https://i.froala.com/upload"!=e.opts.videoUploadURL||e.opts.videoUploadToS3||e.opts.videoUploadToAzure))return r&&r.find("iframe")&&r.find("iframe").length&&K(),(a=new FileReader).onload=function(){a.result;for(var e=atob(a.result.split(",")[1]),t=[],o=0;o<e.length;o++)t.push(e.charCodeAt(o));g(window.URL.createObjectURL(new Blob([new Uint8Array(t)],{type:i.type})),!1,null,r)},h(),a.readAsDataURL(i),!1;if(i.size>e.opts.videoMaxSize)return M(5),!1;if(0>e.opts.videoAllowedTypes.indexOf(i.type.replace(/video\//g,"")))return M(6),!1;if(e.drag_support.formdata&&(o=e.drag_support.formdata?new FormData:null),o){if(!1!==e.opts.videoUploadToS3)for(n in o.append("key",e.opts.videoUploadToS3.keyStart+(new Date).getTime()+"-"+(i.name||"untitled")),o.append("success_action_status","201"),o.append("X-Requested-With","xhr"),o.append("Content-Type",i.type),e.opts.videoUploadToS3.params)e.opts.videoUploadToS3.params.hasOwnProperty(n)&&o.append(n,e.opts.videoUploadToS3.params[n]);for(n in e.opts.videoUploadParams)e.opts.videoUploadParams.hasOwnProperty(n)&&o.append(n,e.opts.videoUploadParams[n]);o.append(e.opts.videoUploadParam,i);var a,n,s,l,p=e.opts.videoUploadURL;e.opts.videoUploadToS3&&(p=e.opts.videoUploadToS3.uploadURL?e.opts.videoUploadToS3.uploadURL:"https://".concat(e.opts.videoUploadToS3.region,".amazonaws.com/").concat(e.opts.videoUploadToS3.bucket));var f=e.opts.videoUploadMethod;e.opts.videoUploadToAzure&&(s=p=e.opts.videoUploadToAzure.uploadURL?"".concat(e.opts.videoUploadToAzure.uploadURL,"/").concat(i.name):encodeURI("https://".concat(e.opts.videoUploadToAzure.account,".blob.core.windows.net/").concat(e.opts.videoUploadToAzure.container,"/").concat(i.name)),e.opts.videoUploadToAzure.SASToken&&(p+=e.opts.videoUploadToAzure.SASToken),f="PUT");var c=e.core.getXHR(p,f);if(e.opts.videoUploadToAzure){var v=(new Date).toUTCString();if(!e.opts.videoUploadToAzure.SASToken&&e.opts.videoUploadToAzure.accessKey){var u=e.opts.videoUploadToAzure.account,m=e.opts.videoUploadToAzure.container;if(e.opts.videoUploadToAzure.uploadURL){var b=e.opts.videoUploadToAzure.uploadURL.split("/");m=b.pop(),u=b.pop().split(".")[0]}var y="x-ms-blob-type:BlockBlob\nx-ms-date:".concat(v,"\nx-ms-version:2019-07-07"),w=encodeURI("/"+u+"/"+m+"/"+i.name),x=f+"\n\n\n"+i.size+"\n\n"+i.type+"\n\n\n\n\n\n\n"+y+"\n"+w,U=e.cryptoJSPlugin.cryptoJS.HmacSHA256(x,e.cryptoJSPlugin.cryptoJS.enc.Base64.parse(e.opts.videoUploadToAzure.accessKey)).toString(e.cryptoJSPlugin.cryptoJS.enc.Base64),R="SharedKey "+u+":"+U;l=U,c.setRequestHeader("Authorization",R)}for(n in c.setRequestHeader("x-ms-version","2019-07-07"),c.setRequestHeader("x-ms-date",v),c.setRequestHeader("Content-Type",i.type),c.setRequestHeader("x-ms-blob-type","BlockBlob"),e.opts.videoUploadParams)e.opts.videoUploadParams.hasOwnProperty(n)&&c.setRequestHeader(n,e.opts.videoUploadParams[n]);for(n in e.opts.videoUploadToAzure.params)e.opts.videoUploadToAzure.params.hasOwnProperty(n)&&c.setRequestHeader(n,e.opts.videoUploadToAzure.params[n])}c.onload=function(){E.call(c,r,s,l)},c.onerror=A,c.upload.onprogress=C,c.onabort=S,h(),e.events.disableBlur(),e.edit.off(),e.events.enableBlur();var _=e.popups.get("video.insert");_&&d(_.off("abortUpload")).on("abortUpload",function(){4!=c.readyState&&c.abort()}),c.send(e.opts.videoUploadToAzure?i:o)}}}function M(t,o){e.edit.on(),r&&r.find("video").addClass("fr-error"),y(e.language.translate("Something went wrong. Please try again.")),e.events.trigger("video.error",[{code:t,message:l[t]},o])}function V(){if(r){var t=e.popups.get("video.size"),o=r.find("iframe, embed, ".concat(r.find("iframe, embed, audio").get(0)?"audio":"video"));t.find('input[name="width"]').val(o.get(0).style.width||o.attr("width")).trigger("change"),t.find('input[name="height"]').val(o.get(0).style.height||o.attr("height")).trigger("change")}}function N(t){if(t)return e.popups.onRefresh("video.size",V),!0;var o={buttons:'<div class="fr-buttons fr-tabs">'.concat(e.button.buildList(e.opts.videoSizeButtons),"</div>"),size_layer:'<div class="fr-video-size-layer fr-layer fr-active" id="fr-video-size-layer-'.concat(e.id,'"><div class="fr-video-group"><div class="fr-input-line"><input id="fr-video-size-layer-width-').concat(e.id,'" type="text" name="width" placeholder="').concat(e.language.translate("Width"),'" tabIndex="1"></div><div class="fr-input-line"><input id="fr-video-size-layer-height-').concat(e.id,'" type="text" name="height" placeholder="').concat(e.language.translate("Height"),'" tabIndex="1"></div></div><div class="fr-action-buttons"><button type="button" class="fr-command fr-submit" data-cmd="videoSetSize" tabIndex="2" role="button">').concat(e.language.translate("Update"),"</button></div></div>")},i=e.popups.create("video.size",o);return e.events.$on(e.$wp,"scroll",function(){r&&e.popups.isVisible("video.size")&&(e.events.disableBlur(),w(r))}),i}function Y(e){if(void 0===e&&(e=r),e){if(e.hasClass("fr-fvl"))return"left";if(e.hasClass("fr-fvr"))return"right";if(e.hasClass("fr-dvb")||e.hasClass("fr-dvi"))return"center";if("block"==e.css("display")){if("left"==e.css("text-algin"))return"left";if("right"==e.css("text-align"))return"right"}else{if("left"==e.css("float"))return"left";if("right"==e.css("float"))return"right"}}return"center"}function H(e){void 0===e&&(e=r);var t=e.css("float");return e.css("float","none"),"block"==e.css("display")?(e.css("float",""),e.css("float")!=t&&e.css("float",t),"block"):(e.css("float",""),e.css("float")!=t&&e.css("float",t),"inline")}function K(){if(r&&!1!==e.events.trigger("video.beforeRemove",[r])){var t=r;if(e.popups.hideAll(),z(!0),e.opts.trackChangesEnabled&&(!t[0].parentNode||"SPAN"!==t[0].parentNode.tagName||!t[0].parentNode.hasAttribute("data-tracking")))return void e.track_changes.removeSpecialItem(t);e.selection.setBefore(t.get(0))||e.selection.setAfter(t.get(0)),t.remove(),e.selection.restore(),e.html.fillEmptyBlocks()}}function F(){m()}function X(t,o,i){!e.opts.htmlUntouched&&e.opts.useClasses?(t.removeClass("fr-fvl fr-fvr fr-dvb fr-dvi"),t.addClass("fr-fv".concat(i[0]," fr-dv").concat(o[0]))):"inline"==o?(t.css({display:"inline-block"}),"center"==i?t.css({float:"none"}):"left"==i?t.css({float:"left"}):t.css({float:"right"})):(t.css({display:"block",clear:"both"}),"left"==i?t.css({textAlign:"left"}):"right"==i?t.css({textAlign:"right"}):t.css({textAlign:"center"}))}function G(){var t=e.$el.find("video").filter(function(){return 0===d(this).parents("span.fr-video").length});if(0!=t.length){t.wrap(d(document.createElement("span")).attr("class","fr-video fr-deletable").attr("contenteditable","false")),e.$el.find("embed, iframe").filter(function(){if(e.browser.safari&&this.getAttribute("src")&&this.setAttribute("src",this.src),0<d(this).parents("span.fr-video").length)return!1;for(var t=d(this).attr("src"),o=0;o<i.VIDEO_PROVIDERS.length;o++){var a=i.VIDEO_PROVIDERS[o];if(a.test_regex.test(t)&&new RegExp(e.opts.videoAllowedProviders.join("|")).test(a.provider))return!0}return!1}).map(function(){return 0===d(this).parents("object").length?this:d(this).parents("object").get(0)}).wrap(d(document.createElement("span")).attr("class","fr-video").attr("contenteditable","false"));for(var o,a,r=e.$el.find("span.fr-video, video"),n=0;n<r.length;n++){var s=d(r[n]);!e.opts.htmlUntouched&&e.opts.useClasses?(s.hasClass("fr-dvi")||s.hasClass("fr-dvb")||(s.addClass("fr-fv".concat(Y(s)[0])),s.addClass("fr-dv".concat(H(s)[0]))),e.opts.videoTextNear||s.removeClass("fr-dvi").addClass("fr-dvb")):e.opts.htmlUntouched||e.opts.useClasses||(o=s.hasClass("fr-dvb")?"block":s.hasClass("fr-dvi")?"inline":null,a=s.hasClass("fr-fvl")?"left":s.hasClass("fr-fvr")?"right":Y(s),X(s,o,a),s.removeClass("fr-dvb fr-dvi fr-fvr fr-fvl"))}r.toggleClass("fr-draggable",e.opts.videoMove)}}function W(t){document.getElementById("autoplay-".concat(e.id)).style.cssText="background:".concat(t)}function j(){if(r){e.selection.clear();var t=e.doc.createRange();t.selectNode(r.get(0)),e.selection.get().addRange(t)}}return l[1]="Video cannot be loaded from the passed link.",l[2]="No link in upload response.",l[3]="Error during file upload.",l[4]="Parsing response failed.",l[5]="File is too large.",l[6]="Video file type is invalid.",l[7]="Files can be uploaded only to same domain in IE 8 and IE 9.",e.shared.vid_exit_flag=!1,{_init:function(){e.opts.videoResponsive&&(e.opts.videoResize=!1),e.events.on("drop",L,!0),e.events.on("mousedown window.mousedown",P),e.events.on("window.touchmove",$),e.events.on("mouseup window.mouseup",z),e.events.on("commands.mousedown",function(e){0<e.parents(".fr-toolbar").length&&z()}),e.events.on("video.hideResizer commands.undo commands.redo element.dropped",function(){z(!0)}),e.events.on("filestack-init-video",function(){c()}),e.helpers.isMobile()&&(e.events.$on(e.$el,"touchstart","span.fr-video",function(){s=!1}),e.events.$on(e.$el,"touchmove",function(){s=!0})),e.events.on("html.set",G),G(),e.events.$on(e.$el,"mousedown","span.fr-video",function(t){t.stopPropagation(),(e.browser.msie||e.browser.edge)&&(t.target.innerText||(t.target.dragDrop(),T.call(this,t)))}),e.events.$on(e.$el,"click touchend","span.fr-video",function(e){if(e.target.innerText.length||"false"==d(this).parents("[contenteditable]").not(".fr-element").not(".fr-img-caption").not("body").first().attr("contenteditable"))return!0;T.call(this,e)}),e.events.on("keydown",function(t){var o=t.which;return r&&(o==i.KEYCODE.BACKSPACE||o==i.KEYCODE.DELETE)?(t.preventDefault(),K(),e.undo.saveStep(),!1):r&&o==i.KEYCODE.ESC?(z(!0),t.preventDefault(),!1):r&&o!=i.KEYCODE.F10&&!e.keys.isBrowserAction(t)?(t.preventDefault(),!1):void 0},!0),e.events.on("toolbar.esc",function(){if(r)return e.events.disableBlur(),e.events.focus(),!1},!0),e.events.on("toolbar.focusEditor",function(){if(r)return!1},!0),e.events.on("keydown",function(){e.$el.find("span.fr-video:empty").remove()}),e.$wp&&(k(),e.events.on("contentChanged",k)),c(!0),N(!0)},showInsertPopup:function(){var t=e.$tb.find('.fr-command[data-cmd="insertVideo"]'),o=e.popups.get("video.insert");if(o||(o=c()),m(),!o.hasClass("fr-active")){if(e.popups.refresh("video.insert"),e.popups.setContainer("video.insert",e.$tb),t.isVisible()){var i=e.button.getPosition(t),a=i.left,r=i.top;e.popups.show("video.insert",a,r,t.outerHeight())}else e.position.forSelection(o),e.popups.show("video.insert")}},showLayer:function(t){var o,i,a=e.popups.get("video.insert");if(!r&&!e.opts.toolbarInline){var n=e.$tb.find('.fr-command[data-cmd="insertVideo"]');o=n.offset().left,i=n.offset().top+(e.opts.toolbarBottom?10:n.outerHeight()-10)}e.opts.toolbarInline&&(i=a.offset().top-e.helpers.getPX(a.css("margin-top")),a.hasClass("fr-above")&&(i+=a.outerHeight())),a.find(".fr-layer").removeClass("fr-active"),a.find(".fr-".concat(t,"-layer")).addClass("fr-active"),e.popups.show("video.insert",o,i,0),e.accessibility.focusPopup(a)},refreshByURLButton:function(t){var o=e.popups.get("video.insert");o&&o.find(".fr-video-by-url-layer").hasClass("fr-active")&&t.addClass("fr-active").attr("aria-pressed",!0)},refreshEmbedButton:function(t){var o=e.popups.get("video.insert");o&&o.find(".fr-video-embed-layer").hasClass("fr-active")&&t.addClass("fr-active").attr("aria-pressed",!0)},refreshUploadButton:function(t){var o=e.popups.get("video.insert");o&&o.find(".fr-video-upload-layer").hasClass("fr-active")&&t.addClass("fr-active").attr("aria-pressed",!0)},upload:O,insertByURL:function(t){var o=!!document.getElementById("videoPluginAutoplay")&&document.getElementById("videoPluginAutoplay").checked;if(void 0===t){var a=(t=(e.popups.get("video.insert").find('.fr-video-by-url-layer input[type="text"]').val()||"").trim()).match(/(https?:\/\/)?(www\.)?(player\.)?vimeo\.com\/?(showcase\/)*([0-9))([a-z]*\/)*([0-9]{6,11})[?]?.*/);if(a&&7==a.length){var r=a[6],n=t.substring(0,t.lastIndexOf("/")),s=t.substring(t.lastIndexOf("/")+1,t.length);t=s.includes("?h=")||s.includes("?v=")||r===s?("".concat(n,"/").concat(s)||"").trim():("".concat(n,"?h=").concat(s)||"").trim()}}var d=null;if(/^http/.test(t)||(t="https://".concat(t)),e.helpers.isURL(t))for(var l=0;l<i.VIDEO_PROVIDERS.length;l++){var p=i.VIDEO_PROVIDERS[l],f="autoplay=1&mute=1";if(p.html.includes("autoplay=1")&&document.getElementById("videoPluginAutoplay").checked)p.html=p.html,document.getElementById("videoPluginAutoplay").checked=!1;else if(o){var c=p.html.indexOf("{url}")+5;p.html=[p.html.slice(0,c),f,p.html.slice(c)].join(""),o=!1,document.getElementById("videoPluginAutoplay").checked=!1}else(p=i.VIDEO_PROVIDERS[l]).html=p.html.replace(f,"");if(p.test_regex.test(t)&&new RegExp(e.opts.videoAllowedProviders.join("|")).test(p.provider)){d=t.replace(p.url_regex,p.url_text),d=p.html.replace(/\{url\}/,d);break}}d?v(d):(y(e.language.translate("Something went wrong. Please try again.")),e.events.trigger("video.linkError",[t]))},insertEmbed:function(t){void 0===t&&(t=e.popups.get("video.insert").find(".fr-video-embed-layer textarea").val()||""),0!==t.length&&i.VIDEO_EMBED_REGEX.test(t)?v(t):(y(e.language.translate("Something went wrong. Please try again.")),e.events.trigger("video.codeError",[t]))},insert:v,align:function(t){r.removeClass("fr-fvr fr-fvl"),!e.opts.htmlUntouched&&e.opts.useClasses?"left"==t?r.addClass("fr-fvl"):"right"==t&&r.addClass("fr-fvr"):X(r,H(),t),j(),I(),f(),e.selection.clear()},refreshAlign:function(t){if(!r)return!1;t.find(">*").first().replaceWith(e.icon.create("video-align-".concat(Y())))},refreshAlignOnShow:function(e,t){r&&t.find('.fr-command[data-param1="'.concat(Y(),'"]')).addClass("fr-active").attr("aria-selected",!0)},display:function(t){r.removeClass("fr-dvi fr-dvb"),!e.opts.htmlUntouched&&e.opts.useClasses?"inline"==t?r.addClass("fr-dvi"):"block"==t&&r.addClass("fr-dvb"):X(r,t,Y()),j(),I(),f(),e.selection.clear()},refreshDisplayOnShow:function(e,t){r&&t.find('.fr-command[data-param1="'.concat(H(),'"]')).addClass("fr-active").attr("aria-selected",!0)},remove:K,hideProgressBar:m,showSizePopup:function(){var t=e.popups.get("video.size");t||(t=N()),m(),e.popups.refresh("video.size"),e.popups.setContainer("video.size",e.$sc);var o=r.find("iframe, embed, ".concat(r.find("iframe, embed, audio").get(0)?"audio":"video")),i=o.offset().left+o.outerWidth()/2,a=o.offset().top+o.height();e.popups.show("video.size",i,a,o.height(),!0)},replace:function(){var t=e.popups.get("video.insert");t||(t=c()),e.popups.isVisible("video.insert")||(m(),e.popups.refresh("video.insert"),e.popups.setContainer("video.insert",e.$sc));var o=r.offset().left+r.outerWidth()/2,i=r.offset().top+r.height();e.popups.show("video.insert",o,i,r.outerHeight(),!0)},back:function(){r?(e.events.disableBlur(),r[0].click()):(e.events.disableBlur(),e.selection.restore(),e.events.enableBlur(),e.popups.hide("video.insert"),e.toolbar.showInline())},setSize:function(t,o){if(r){var i=e.popups.get("video.size"),a=r.find("iframe, embed, ".concat(r.find("iframe, embed, audio").get(0)?"audio":"video"));a.css("width",t||i.find('input[name="width"]').val()),a.css("height",o||i.find('input[name="height"]').val()),a.get(0).style.width&&a.removeAttr("width"),a.get(0).style.height&&a.removeAttr("height"),i.find("input:focus").blur(),setTimeout(function(){r.trigger("click")},e.helpers.isAndroid()?50:0)}},get:function(){return r},showProgressBar:h,_editVideo:w,setAutoplay:function(){var e;if(r.find("iframe, embed, audio").get(0))(e=r.find("iframe, embed, audio")).get(0).src.includes("autoplay=1")?(W("#FFFFFF"),e.get(0).src=e.get(0).src.replace("&autoplay=1","")):(W("#D6D6D6"),e.get(0).src=e.get(0).src+"&autoplay=1");else if((e=r.find("iframe, embed, video")).get(0).outerHTML.includes("autoplay"))W("#FFFFFF"),e.get(0).outerHTML=e.get(0).outerHTML.replace("autoplay","");else{W("#D6D6D6");var t=e.get(0).outerHTML.indexOf("class")-1;e.get(0).outerHTML=[e.get(0).outerHTML.slice(0,t),"autoplay",e.get(0).outerHTML.slice(t)].join("")}},insertHtmlVideo:g}},i.RegisterCommand("insertVideo",{title:"Insert Video",undo:!1,focus:!0,refreshAfterCallback:!1,popup:!0,callback:function(){this.popups.isVisible("video.insert")?(this.$el.find(".fr-marker").length&&(this.events.disableBlur(),this.selection.restore()),this.popups.hide("video.insert")):this.video.showInsertPopup()},plugin:"video"}),i.DefineIcon("insertVideo",{NAME:"video-camera",FA5NAME:"camera",SVG_KEY:"insertVideo"}),i.DefineIcon("videoByURL",{NAME:"link",SVG_KEY:"insertLink"}),i.RegisterCommand("videoByURL",{title:"By URL",undo:!1,focus:!1,toggle:!0,callback:function(){this.video.showLayer("video-by-url")},refresh:function(e){this.video.refreshByURLButton(e)}}),i.DefineIcon("videoEmbed",{NAME:"code",SVG_KEY:"codeView"}),i.RegisterCommand("videoEmbed",{title:"Embedded Code",undo:!1,focus:!1,toggle:!0,callback:function(){this.video.showLayer("video-embed")},refresh:function(e){this.video.refreshEmbedButton(e)}}),i.DefineIcon("videoUpload",{NAME:"upload",SVG_KEY:"upload"}),i.RegisterCommand("videoUpload",{title:"Upload Video",undo:!1,focus:!1,toggle:!0,callback:function(){this.video.showLayer("video-upload")},refresh:function(e){this.video.refreshUploadButton(e)}}),i.RegisterCommand("videoInsertByURL",{undo:!0,focus:!0,callback:function(){this.video.insertByURL()}}),i.RegisterCommand("videoInsertEmbed",{undo:!0,focus:!0,callback:function(){this.video.insertEmbed()}}),i.DefineIcon("videoDisplay",{NAME:"star",SVG_KEY:"star"}),i.RegisterCommand("videoDisplay",{title:"Display",type:"dropdown",options:{inline:"Inline",block:"Break Text"},callback:function(e,t){this.video.display(t)},refresh:function(e){this.opts.videoTextNear||e.addClass("fr-hidden")},refreshOnShow:function(e,t){this.video.refreshDisplayOnShow(e,t)}}),i.DefineIcon("video-align",{NAME:"align-left",SVG_KEY:"align Left"}),i.DefineIcon("video-align-left",{NAME:"align-left",SVG_KEY:"alignLeft"}),i.DefineIcon("video-align-right",{NAME:"align-right",SVG_KEY:"alignRight"}),i.DefineIcon("video-align-center",{NAME:"align-justify",SVG_KEY:"alignJustify"}),i.DefineIcon("videoAlign",{NAME:"align-center",SVG_KEY:"alignCenter"}),i.RegisterCommand("videoAlign",{type:"dropdown",title:"Align",options:{left:"Align Left",center:"None",right:"Align Right"},html:function(){var e='<ul class="fr-dropdown-list" role="presentation">',t=i.COMMANDS.videoAlign.options;for(var o in t)t.hasOwnProperty(o)&&(e+='<li role="presentation"><a class="fr-command fr-title" tabIndex="-1" role="option" data-cmd="videoAlign" data-param1="'.concat(o,'" title="').concat(this.language.translate(t[o]),'">').concat(this.icon.create("video-align-".concat(o)),'<span class="fr-sr-only">').concat(this.language.translate(t[o]),"</span></a></li>"));return e+"</ul>"},callback:function(e,t){this.video.align(t)},refresh:function(e){this.video.refreshAlign(e)},refreshOnShow:function(e,t){this.video.refreshAlignOnShow(e,t)}}),i.DefineIcon("videoReplace",{NAME:"exchange",FA5NAME:"exchange-alt",SVG_KEY:"replaceImage"}),i.RegisterCommand("videoReplace",{title:"Replace",undo:!1,focus:!1,popup:!0,refreshAfterCallback:!1,callback:function(){this.video.replace()}}),i.DefineIcon("videoRemove",{NAME:"trash",SVG_KEY:"remove"}),i.RegisterCommand("videoRemove",{title:"Remove",callback:function(){this.video.remove()}}),i.DefineIcon("autoplay",{NAME:"autoplay",SVG_KEY:"autoplay"}),i.RegisterCommand("autoplay",{undo:!1,focus:!1,popup:!0,title:"Autoplay",callback:function(){this.video.setAutoplay()}}),i.DefineIcon("videoSize",{NAME:"arrows-alt",SVG_KEY:"imageSize"}),i.RegisterCommand("videoSize",{undo:!1,focus:!1,popup:!0,title:"Change Size",callback:function(){this.video.showSizePopup()}}),i.DefineIcon("videoBack",{NAME:"arrow-left",SVG_KEY:"back"}),i.RegisterCommand("videoBack",{title:"Back",undo:!1,focus:!1,back:!0,callback:function(){this.video.back()},refresh:function(e){this.video.get()||this.opts.toolbarInline?(e.removeClass("fr-hidden"),e.next().hasClass("fr-separator")&&e.next().removeClass("fr-hidden")):(e.addClass("fr-hidden"),e.next().hasClass("fr-separator")&&e.next().addClass("fr-hidden"))}}),i.RegisterCommand("videoDismissError",{title:"OK",undo:!1,callback:function(){this.video.hideProgressBar(!0)}}),i.RegisterCommand("videoSetSize",{undo:!0,focus:!1,title:"Update",refreshAfterCallback:!1,callback:function(){this.video.setSize()}})}};