(()=>{var e={};e.id=9497,e.ids=[9497],e.modules={10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},33873:e=>{"use strict";e.exports=require("path")},79551:e=>{"use strict";e.exports=require("url")},26689:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>n.a,__next_app__:()=>x,pages:()=>c,routeModule:()=>p,tree:()=>d});var r=s(70260),a=s(28203),l=s(25155),n=s.n(l),i=s(67292),o={};for(let e in i)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>i[e]);s.d(t,o);let d=["",{children:["blog",{children:["blogs",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,996)),"E:\\Edverto Tech\\Main\\Tripknock\\admin-panel\\src\\app\\blog\\blogs\\page.js"]}]},{}]},{metadata:{icon:[async e=>(await Promise.resolve().then(s.bind(s,70440))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(s.bind(s,62804)),"E:\\Edverto Tech\\Main\\Tripknock\\admin-panel\\src\\app\\layout.js"],loading:[()=>Promise.resolve().then(s.bind(s,18988)),"E:\\Edverto Tech\\Main\\Tripknock\\admin-panel\\src\\app\\loading.js"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,19937,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(s.t.bind(s,69116,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(s.t.bind(s,41485,23)),"next/dist/client/components/unauthorized-error"],metadata:{icon:[async e=>(await Promise.resolve().then(s.bind(s,70440))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],c=["E:\\Edverto Tech\\Main\\Tripknock\\admin-panel\\src\\app\\blog\\blogs\\page.js"],x={require:s,loadChunk:()=>Promise.resolve()},p=new r.AppPageRouteModule({definition:{kind:a.RouteKind.APP_PAGE,page:"/blog/blogs/page",pathname:"/blog/blogs",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},10058:(e,t,s)=>{Promise.resolve().then(s.bind(s,996))},73106:(e,t,s)=>{Promise.resolve().then(s.bind(s,33176))},29426:(e,t,s)=>{"use strict";s.d(t,{A:()=>l});var r=s(64445),a=s(45512);let l=(0,r.A)((0,a.jsx)("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6z"}),"Add")},81446:(e,t,s)=>{"use strict";s.d(t,{A:()=>l});var r=s(64445),a=s(45512);let l=(0,r.A)((0,a.jsx)("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6zM19 4h-3.5l-1-1h-5l-1 1H5v2h14z"}),"Delete")},8469:(e,t,s)=>{"use strict";s.d(t,{A:()=>l});var r=s(64445),a=s(45512);let l=(0,r.A)((0,a.jsx)("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.9959.9959 0 0 0-1.41 0l-1.83 1.83 3.75 3.75z"}),"Edit")},99585:(e,t,s)=>{"use strict";s.d(t,{A:()=>l});var r=s(64445),a=s(45512);let l=(0,r.A)((0,a.jsx)("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14"}),"Search")},65601:(e,t,s)=>{"use strict";s.d(t,{A:()=>l});var r=s(64445),a=s(45512);let l=(0,r.A)((0,a.jsx)("path",{d:"M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5M12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5m0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3"}),"Visibility")},33176:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>y});var r=s(45512),a=s(58009),l=s(28531),n=s.n(l),i=s(29426),o=s(99585),d=s(65601),c=s(8469),x=s(81446),p=s(79420),h=s(1991),m=s(25998),u=s(21695),g=s(5698);function y(){let{showSuccess:e,showError:t,showInfo:s}=(0,u.h)(),{setLoading:l,isLoading:y}=(0,g.M)(),[b,f]=(0,a.useState)(""),[j,v]=(0,a.useState)([]),[w,N]=(0,a.useState)(null),[A,k]=(0,a.useState)("all"),[C,P]=(0,a.useState)("all"),[M,E]=(0,a.useState)([]),_=j.filter(e=>{let t=e.title.toLowerCase().includes(b.toLowerCase()),s="all"===A||e.status===A,r="all"===C||Array.isArray(e.category)&&e.category.some(e=>"object"==typeof e&&e.id?e.id.toString()===C:e===C);return t&&s&&r}),S=e=>{k(e)},T=async e=>{N(e)},z=async()=>{l("deleteArticle",!0,"Deleting blog...");try{let s=m.A.get("tk_auth_details");if(!s)throw Error("Authentication required. Please log in as an admin.");let r=JSON.parse(s).email,a=await fetch(`https://data.tripknock.in/blog/delete/${w.id}`,{method:"POST",headers:{"Content-Type":"application/json",admin:r}});if(a.ok)v(e=>e.filter(e=>e.id!==w.id)),e("Blog deleted successfully");else{let e=await a.json();t(`Failed to delete blog: ${e.message}`)}}catch(e){console.log("Error deleting article:",e),t("An unexpected error occurred. Please try again.")}finally{l("deleteArticle",!1),N(null)}};return(0,r.jsxs)(r.Fragment,{children:[y("fetchData")?(0,r.jsx)(p.A,{}):(0,r.jsxs)("div",{className:"container mx-auto px-4 py-6",children:[(0,r.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h1",{className:"text-2xl font-bold text-secondary-900",children:"All Blogs"}),(0,r.jsx)("p",{className:"text-secondary-600",children:"Manage your blogs"})]}),(0,r.jsxs)(n(),{href:"/blog/blogs/create",className:"btn-primary flex items-center gap-2",children:[(0,r.jsx)(i.A,{className:"w-5 h-5"}),"Create Blog"]})]}),(0,r.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-secondary-200",children:[(0,r.jsxs)("div",{className:"p-4 border-b border-secondary-200 flex flex-col md:flex-row justify-between gap-4",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2 flex-1",children:[(0,r.jsx)(o.A,{className:"text-secondary-400"}),(0,r.jsx)("input",{type:"text",placeholder:"Search articles...",value:b,onChange:e=>{f(e.target.value)},className:"flex-1 bg-transparent border-none focus:outline-none text-secondary-900 placeholder-secondary-400"})]}),(0,r.jsxs)("div",{className:"flex flex-wrap gap-4",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)("span",{className:"text-sm text-secondary-500",children:"Status:"}),(0,r.jsxs)("div",{className:"flex rounded-md overflow-hidden border border-secondary-200",children:[(0,r.jsx)("button",{onClick:()=>S("all"),className:`px-3 py-1.5 text-sm ${"all"===A?"bg-primary-600 text-white":"bg-white text-secondary-700 hover:bg-secondary-50"}`,children:"All"}),(0,r.jsx)("button",{onClick:()=>S("published"),className:`px-3 py-1.5 text-sm ${"published"===A?"bg-green-600 text-white":"bg-white text-secondary-700 hover:bg-secondary-50"}`,children:"Published"}),(0,r.jsx)("button",{onClick:()=>S("draft"),className:`px-3 py-1.5 text-sm ${"draft"===A?"bg-yellow-600 text-white":"bg-white text-secondary-700 hover:bg-secondary-50"}`,children:"Draft"})]})]}),(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)("span",{className:"text-sm text-secondary-500",children:"Category:"}),(0,r.jsxs)("select",{value:C,onChange:e=>{P(e.target.value)},className:"px-3 py-1.5 text-sm bg-white border border-secondary-200 rounded-md focus:outline-none focus:ring-primary-600 focus:border-primary-600",children:[(0,r.jsx)("option",{value:"all",children:"All Categories"}),M.map(e=>(0,r.jsx)("option",{value:e.name,children:e.name},e.id))]})]})]})]}),(0,r.jsx)("div",{className:"overflow-x-auto",children:(0,r.jsxs)("table",{className:"w-full",children:[(0,r.jsx)("thead",{className:"bg-secondary-50",children:(0,r.jsxs)("tr",{children:[(0,r.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-secondary-500 uppercase tracking-wider",children:"Title"}),(0,r.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-secondary-500 uppercase tracking-wider",children:"Category"}),(0,r.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-secondary-500 uppercase tracking-wider",children:"Author"}),(0,r.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-secondary-500 uppercase tracking-wider",children:"Status"}),(0,r.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-secondary-500 uppercase tracking-wider",children:"Date"}),(0,r.jsx)("th",{className:"px-6 py-3 text-right text-xs font-medium text-secondary-500 uppercase tracking-wider",children:"Actions"})]})}),(0,r.jsx)("tbody",{className:"bg-white divide-y divide-secondary-200",children:0===_.length?(0,r.jsx)("tr",{children:(0,r.jsx)("td",{colSpan:"6",className:"px-6 py-4 text-center text-secondary-500",children:"No articles found"})}):_.map(e=>(0,r.jsxs)("tr",{className:"hover:bg-secondary-50",children:[(0,r.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,r.jsx)("div",{className:"flex items-center",children:(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{className:"text-sm font-medium text-secondary-900",children:e.title}),(0,r.jsx)("div",{className:"text-sm text-secondary-500",children:e.slug})]})})}),(0,r.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,r.jsx)("div",{className:"text-sm text-secondary-900",children:Array.isArray(e.category)&&e.category.length>0?e.category.join(", "):"Uncategorized"})}),(0,r.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{className:"text-sm font-medium text-secondary-900",children:e.author_name}),(0,r.jsx)("div",{className:"text-sm text-secondary-500",children:e.author})]})}),(0,r.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap",children:[(0,r.jsx)("span",{className:`px-2 py-1 inline-flex text-xs leading-5 font-semibold rounded-full ${"published"===e.status?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"}`,children:e.status}),(0,r.jsx)("span",{className:"text-xs text-secondary-500 block mt-1",children:e.last_modified})]}),(0,r.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-secondary-500",children:e.date}),(0,r.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:(0,r.jsxs)("div",{className:"flex justify-end gap-2",children:["published"===e.status&&(0,r.jsx)(n(),{href:`/blog/blogs/${e.id}/edit`,className:"text-primary-600 hover:text-primary-900",children:(0,r.jsx)(d.A,{className:"w-5 h-5"})}),(0,r.jsx)(n(),{href:`/blog/blogs/${e.id}/edit`,className:"text-primary-600 hover:text-primary-900",children:(0,r.jsx)(c.A,{className:"w-5 h-5"})}),(0,r.jsx)("button",{onClick:()=>T(e),className:"text-red-600 hover:text-red-900",children:(0,r.jsx)(x.A,{className:"w-5 h-5"})})]})})]},e.id))})]})})]})]}),w&&(0,r.jsx)(h.A,{title:"Delete Article",message:`Are you sure you want to delete "${w.title}"? This action cannot be undone.`,confirmLabel:"Delete",cancelLabel:"Cancel",onConfirm:z,onCancel:()=>N(null)})]})}},1991:(e,t,s)=>{"use strict";s.d(t,{A:()=>l});var r=s(45512);let a=(0,s(64445).A)((0,r.jsx)("path",{d:"M1 21h22L12 2zm12-3h-2v-2h2zm0-4h-2v-4h2z"}),"Warning");function l({open:e,onConfirm:t,onCancel:s,title:l,message:n,confirmLabel:i="Confirm",confirmVariant:o="primary",disabled:d=!1}){return e?(0,r.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:(0,r.jsxs)("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-md p-6 m-4",children:[(0,r.jsxs)("div",{className:"flex items-center gap-3 text-red-600 mb-4",children:[(0,r.jsx)(a,{className:"w-6 h-6"}),(0,r.jsx)("h2",{className:"text-lg font-semibold",children:l})]}),(0,r.jsx)("p",{className:"text-secondary-600 mb-6",children:n}),(0,r.jsxs)("div",{className:"flex justify-end gap-3",children:[(0,r.jsx)("button",{onClick:s,className:"px-4 py-2 text-secondary-700 hover:bg-secondary-50 rounded-lg transition-colors",disabled:d,children:"Cancel"}),(0,r.jsx)("button",{onClick:t,className:`px-4 py-2 rounded-lg transition-colors ${(()=>{switch(o){case"error":return"bg-red-600 text-white hover:bg-red-700";case"warning":return"bg-yellow-600 text-white hover:bg-yellow-700";default:return"bg-primary-600 text-white hover:bg-primary-700"}})()} ${d?"opacity-50 cursor-not-allowed":""}`,disabled:d,children:i})]})]})}):null}},996:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>r});let r=(0,s(46760).registerClientReference)(function(){throw Error("Attempted to call the default export of \"E:\\\\Edverto Tech\\\\Main\\\\Tripknock\\\\admin-panel\\\\src\\\\app\\\\blog\\\\blogs\\\\page.js\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"E:\\Edverto Tech\\Main\\Tripknock\\admin-panel\\src\\app\\blog\\blogs\\page.js","default")},70440:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>a});var r=s(88077);let a=async e=>[{type:"image/x-icon",sizes:"16x16",url:(0,r.fillMetadataSegment)(".",await e.params,"favicon.ico")+""}]}};var t=require("../../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),r=t.X(0,[638,8305,8077,7348],()=>s(26689));module.exports=r})();