(()=>{var e={};e.id=4054,e.ids=[4054],e.modules={10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},33873:e=>{"use strict";e.exports=require("path")},79551:e=>{"use strict";e.exports=require("url")},5849:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>i.a,__next_app__:()=>u,pages:()=>c,routeModule:()=>p,tree:()=>d});var r=s(70260),a=s(28203),n=s(25155),i=s.n(n),l=s(67292),o={};for(let e in l)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>l[e]);s.d(t,o);let d=["",{children:["tours",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,95393)),"E:\\Edverto Tech\\Main\\Tripknock\\admin-panel\\src\\app\\tours\\page.js"]}]},{loading:[()=>Promise.resolve().then(s.bind(s,14836)),"E:\\Edverto Tech\\Main\\Tripknock\\admin-panel\\src\\app\\tours\\loading.js"],metadata:{icon:[async e=>(await Promise.resolve().then(s.bind(s,70440))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(s.bind(s,62804)),"E:\\Edverto Tech\\Main\\Tripknock\\admin-panel\\src\\app\\layout.js"],loading:[()=>Promise.resolve().then(s.bind(s,18988)),"E:\\Edverto Tech\\Main\\Tripknock\\admin-panel\\src\\app\\loading.js"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,19937,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(s.t.bind(s,69116,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(s.t.bind(s,41485,23)),"next/dist/client/components/unauthorized-error"],metadata:{icon:[async e=>(await Promise.resolve().then(s.bind(s,70440))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],c=["E:\\Edverto Tech\\Main\\Tripknock\\admin-panel\\src\\app\\tours\\page.js"],u={require:s,loadChunk:()=>Promise.resolve()},p=new r.AppPageRouteModule({definition:{kind:a.RouteKind.APP_PAGE,page:"/tours/page",pathname:"/tours",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},59002:(e,t,s)=>{Promise.resolve().then(s.bind(s,95393))},99170:(e,t,s)=>{Promise.resolve().then(s.bind(s,38568))},29426:(e,t,s)=>{"use strict";s.d(t,{A:()=>n});var r=s(64445),a=s(45512);let n=(0,r.A)((0,a.jsx)("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6z"}),"Add")},81446:(e,t,s)=>{"use strict";s.d(t,{A:()=>n});var r=s(64445),a=s(45512);let n=(0,r.A)((0,a.jsx)("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6zM19 4h-3.5l-1-1h-5l-1 1H5v2h14z"}),"Delete")},8469:(e,t,s)=>{"use strict";s.d(t,{A:()=>n});var r=s(64445),a=s(45512);let n=(0,r.A)((0,a.jsx)("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.9959.9959 0 0 0-1.41 0l-1.83 1.83 3.75 3.75z"}),"Edit")},99585:(e,t,s)=>{"use strict";s.d(t,{A:()=>n});var r=s(64445),a=s(45512);let n=(0,r.A)((0,a.jsx)("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14"}),"Search")},65601:(e,t,s)=>{"use strict";s.d(t,{A:()=>n});var r=s(64445),a=s(45512);let n=(0,r.A)((0,a.jsx)("path",{d:"M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5M12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5m0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3"}),"Visibility")},6095:(e,t)=>{"use strict";function s(){return null}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return s}}),("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},8360:(e,t,s)=>{"use strict";s.d(t,{A:()=>n});var r=s(45512),a=s(79420);function n(){return(0,r.jsx)(a.A,{})}},38568:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>w});var r=s(45512),a=s(58009),n=s.n(a),i=s(79334),l=s(79420),o=s(6095),d=s.n(o);function c({title:e,description:t}){let s="TripKnock Admin",a=e?`${e} | ${s}`:s;return(0,r.jsxs)(d(),{children:[(0,r.jsx)("title",{children:a}),(0,r.jsx)("meta",{name:"description",content:t||"TripKnock Admin Panel - Manage your travel business efficiently"}),(0,r.jsx)("meta",{property:"og:title",content:a}),(0,r.jsx)("meta",{property:"og:description",content:t||"TripKnock Admin Panel - Manage your travel business efficiently"}),(0,r.jsx)("meta",{name:"twitter:title",content:a}),(0,r.jsx)("meta",{name:"twitter:description",content:t||"TripKnock Admin Panel - Manage your travel business efficiently"})]})}var u=s(29426),p=s(99585),x=s(39764);let m=(0,s(64445).A)((0,r.jsx)("path",{d:"M21 12.4V7l-4-4H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h7.4zM15 15c0 1.66-1.34 3-3 3s-3-1.34-3-3 1.34-3 3-3 3 1.34 3 3M6 6h9v4H6zm13.99 10.25 1.77 1.77L16.77 23H15v-1.77zm3.26.26-.85.85-1.77-1.77.85-.85c.2-.2.51-.2.71 0l1.06 1.06c.2.2.2.52 0 .71"}),"SaveAs");var h=s(65601),f=s(8469),j=s(81446),g=s(1991),y=s(8360),v=s(25998),b=s(21695),N=s(5698);function w(){let e=(0,i.useRouter)(),{showSuccess:t,showError:s,showInfo:o}=(0,b.h)(),{setLoading:d,isLoading:w}=(0,N.M)(),[k,A]=(0,a.useState)(""),[T,M]=(0,a.useState)("all"),[P,C]=(0,a.useState)("all"),[_,E]=(0,a.useState)(null),[S,z]=(0,a.useState)([]),[D,$]=(0,a.useState)([]),O=e=>{E(e)},q=async()=>{d("deleteTour",!0,"Deleting tour...");try{let e=await fetch("https://data.tripknock.in/package/delete",{method:"POST",headers:{"Content-Type":"application/json",admin:JSON.parse(v.A.get("tk_auth_details")).email},body:JSON.stringify({id:_.id})});e=await e.json(),!0===e.status?($(D.filter(e=>e.id!==_.id)),t("Tour deleted successfully")):s("Failed to delete tour")}catch(e){console.log("Error deleting tour:",e),s("An error occurred while deleting tour")}finally{d("deleteTour",!1),E(null)}},L=D.filter(e=>{let t=e.title.toLowerCase().includes(k.toLowerCase())||e.destinations&&Array.isArray(e.destinations)&&e.destinations.some(e=>"string"==typeof e&&e.toLowerCase().includes(k.toLowerCase()))||String(e.id).includes(k.replace(/TKTOUR/gi,"").trim()),s="all"===T||e.themes&&e.themes.includes(T),r="all"===P||e.status===P;return t&&s&&r});return(0,r.jsx)(r.Fragment,{children:w("fetchTours")?(0,r.jsx)(y.A,{}):(0,r.jsxs)("div",{className:"p-6",children:[(0,r.jsx)(c,{title:"Tours Management",description:"Manage your tours, create new tour packages, edit existing tours, and control all tour-related operations from one place."}),(0,r.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,r.jsx)("h1",{className:"text-2xl font-bold text-secondary-900",children:"Tours"}),(0,r.jsxs)("button",{onClick:()=>e.push("/tours/create"),className:"btn-primary flex items-center gap-2",children:[(0,r.jsx)(u.A,{className:"w-5 h-5"}),"Create Tour"]})]}),(0,r.jsx)(a.Suspense,{fallback:(0,r.jsx)(l.A,{}),children:(0,r.jsx)("div",{className:"bg-white rounded-lg shadow-sm p-4 mb-6",children:(0,r.jsxs)("div",{className:"flex flex-col md:flex-row gap-4",children:[(0,r.jsx)("div",{className:"flex-1",children:(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:(0,r.jsx)(p.A,{className:"h-5 w-5 text-secondary-400"})}),(0,r.jsx)("input",{type:"text",value:k,onChange:e=>{A(e.target.value)},className:"block w-full pl-10 pr-3 py-2 border border-secondary-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:"Search tours by title, destination, or type..."})]})}),(0,r.jsx)("div",{className:"w-full md:w-48",children:(0,r.jsxs)("select",{value:T,onChange:e=>M(e.target.value),className:"block w-full pl-3 pr-10 py-2 text-base border border-secondary-200 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent rounded-lg",children:[(0,r.jsx)("option",{value:"all",children:"All Themes"}),S.map((e,t)=>(0,r.jsx)("option",{value:e.value,children:e.label},t))]})}),(0,r.jsx)("div",{className:"w-full md:w-48",children:(0,r.jsxs)("select",{value:P,onChange:e=>C(e.target.value),className:"block w-full pl-3 pr-10 py-2 text-base border border-secondary-200 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent rounded-lg",children:[(0,r.jsx)("option",{value:"all",children:"All Status"}),(0,r.jsx)("option",{value:"published",children:"Published"}),(0,r.jsx)("option",{value:"draft",children:"Draft"})]})})]})})}),(0,r.jsx)("div",{className:"bg-white rounded-lg shadow-sm mt-6",children:(0,r.jsx)("div",{className:"overflow-x-auto",children:(0,r.jsxs)("table",{className:"w-full",children:[(0,r.jsx)("thead",{className:"bg-secondary-50",children:(0,r.jsxs)("tr",{children:[(0,r.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-secondary-500 uppercase tracking-wider",children:"ID"}),(0,r.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-secondary-500 uppercase tracking-wider",children:"Title"}),(0,r.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-secondary-500 uppercase tracking-wider",children:"Destination"}),(0,r.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-secondary-500 uppercase tracking-wider",children:"Duration"}),(0,r.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-secondary-500 uppercase tracking-wider",children:"Price"}),(0,r.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-secondary-500 uppercase tracking-wider",children:"Status"}),(0,r.jsx)("th",{className:"px-6 py-3 text-right text-xs font-medium text-secondary-500 uppercase tracking-wider",children:"Actions"})]})}),(0,r.jsx)("tbody",{className:"divide-y divide-secondary-200",children:0===L.length?(0,r.jsx)("tr",{children:(0,r.jsx)("td",{colSpan:"7",className:"px-6 py-12 text-center",children:(0,r.jsx)("div",{className:"text-secondary-500",children:0===D.length?"No tours found. Create your first tour!":"No tours match your search criteria."})})}):L.map(t=>(0,r.jsxs)("tr",{children:[(0,r.jsx)("td",{className:"px-6 py-4",children:(0,r.jsxs)("div",{className:"text-sm font-medium text-secondary-900",children:["#TKTOUR",t.id]})}),(0,r.jsxs)("td",{className:"px-6 py-4",children:[(0,r.jsx)("div",{className:"text-sm font-medium text-secondary-900",children:t.title}),(0,r.jsx)("div",{className:"text-sm text-secondary-500",children:t.themes&&t.themes.length>0?t.themes.map(e=>e+(e===t.themes[t.themes.length-1]?"":", ")):(0,r.jsx)(r.Fragment,{})})]}),(0,r.jsx)("td",{className:"px-6 py-4 text-sm text-secondary-500",children:t.destinations&&t.destinations.length>0&&(0,r.jsx)(n().Fragment,{children:t.destinations?.map((e,s)=>r.jsxs("div",{children:["string"==typeof e?e:`Destination ${e}`,s<t.destinations.length-1&&", "]},s))})}),(0,r.jsx)("td",{className:"px-6 py-4 text-sm text-secondary-500",children:t.time?`${t.time.nights||"N/A"} Nights ${t.time.days||"N/A"} Days`:"Duration not set"}),(0,r.jsx)("td",{className:"px-6 py-4",children:t.price&&t.price.length>0?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{className:"text-sm font-medium text-secondary-900",children:["₹",t.price[0].regular||"N/A"," /-"]}),t.price[0].discount&&t.price[0].discount>0&&(0,r.jsxs)("div",{className:"text-xs text-secondary-500",children:[(0,r.jsxs)("span",{className:"line-through",children:["₹",t.price[0].regular]}),(0,r.jsxs)("span",{className:"text-green-600 ml-1",children:["- ",t.price[0].discount,"%"]})]})]}):(0,r.jsx)("div",{className:"text-sm text-secondary-500",children:"Price not set"})}),(0,r.jsxs)("td",{className:"px-6 py-4",children:[(0,r.jsx)("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${"published"===t.status?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"}`,children:"published"===t.status?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(x.A,{className:"w-4 h-4 mr-1"}),"Published"]}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(m,{className:"w-4 h-4 mr-1"}),"Draft"]})}),(0,r.jsx)("span",{className:"text-sm block text-secondary-700 text-semibold block mt-1",children:t.date})]}),(0,r.jsx)("td",{className:"px-6 py-4 text-right text-sm font-medium",children:(0,r.jsxs)("div",{className:"flex justify-end items-center gap-2",children:["published"===t.status?(0,r.jsx)("button",{onClick:()=>e.push(`/tours/edit/${t.slug}`),className:"text-secondary-600 hover:text-secondary-900",children:(0,r.jsx)(h.A,{className:"w-5 h-5"})}):(0,r.jsx)(r.Fragment,{}),(0,r.jsx)("button",{onClick:()=>e.push(`/tours/edit/${t.slug}`),className:"text-secondary-600 hover:text-secondary-900",children:(0,r.jsx)(f.A,{className:"w-5 h-5"})}),(0,r.jsx)("button",{onClick:()=>O(t),className:"text-red-600 hover:text-red-900",children:(0,r.jsx)(j.A,{className:"w-5 h-5"})})]})})]},t.id))})]})})}),(0,r.jsx)(g.A,{open:!!_,title:"Delete Tour",message:`Are you sure you want to delete tour "${_?.title}"? This action cannot be undone.`,confirmLabel:"Delete",confirmVariant:"error",onConfirm:q,onCancel:()=>E(null)})]})})}},1991:(e,t,s)=>{"use strict";s.d(t,{A:()=>n});var r=s(45512);let a=(0,s(64445).A)((0,r.jsx)("path",{d:"M1 21h22L12 2zm12-3h-2v-2h2zm0-4h-2v-4h2z"}),"Warning");function n({open:e,onConfirm:t,onCancel:s,title:n,message:i,confirmLabel:l="Confirm",confirmVariant:o="primary",disabled:d=!1}){return e?(0,r.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:(0,r.jsxs)("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-md p-6 m-4",children:[(0,r.jsxs)("div",{className:"flex items-center gap-3 text-red-600 mb-4",children:[(0,r.jsx)(a,{className:"w-6 h-6"}),(0,r.jsx)("h2",{className:"text-lg font-semibold",children:n})]}),(0,r.jsx)("p",{className:"text-secondary-600 mb-6",children:i}),(0,r.jsxs)("div",{className:"flex justify-end gap-3",children:[(0,r.jsx)("button",{onClick:s,className:"px-4 py-2 text-secondary-700 hover:bg-secondary-50 rounded-lg transition-colors",disabled:d,children:"Cancel"}),(0,r.jsx)("button",{onClick:t,className:`px-4 py-2 rounded-lg transition-colors ${(()=>{switch(o){case"error":return"bg-red-600 text-white hover:bg-red-700";case"warning":return"bg-yellow-600 text-white hover:bg-yellow-700";default:return"bg-primary-600 text-white hover:bg-primary-700"}})()} ${d?"opacity-50 cursor-not-allowed":""}`,disabled:d,children:l})]})]})}):null}},14836:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>n});var r=s(62740),a=s(17488);function n(){return(0,r.jsx)(a.A,{})}},95393:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>r});let r=(0,s(46760).registerClientReference)(function(){throw Error("Attempted to call the default export of \"E:\\\\Edverto Tech\\\\Main\\\\Tripknock\\\\admin-panel\\\\src\\\\app\\\\tours\\\\page.js\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"E:\\Edverto Tech\\Main\\Tripknock\\admin-panel\\src\\app\\tours\\page.js","default")},70440:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>a});var r=s(88077);let a=async e=>[{type:"image/x-icon",sizes:"16x16",url:(0,r.fillMetadataSegment)(".",await e.params,"favicon.ico")+""}]}};var t=require("../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),r=t.X(0,[638,8305,8077,7348],()=>s(5849));module.exports=r})();