(()=>{var e={};e.id=6945,e.ids=[6945],e.modules={10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},33873:e=>{"use strict";e.exports=require("path")},79551:e=>{"use strict";e.exports=require("url")},41681:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>i.a,__next_app__:()=>u,pages:()=>c,routeModule:()=>m,tree:()=>o});var r=s(70260),a=s(28203),n=s(25155),i=s.n(n),l=s(67292),d={};for(let e in l)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(d[e]=()=>l[e]);s.d(t,d);let o=["",{children:["tour-includes",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,12444)),"E:\\Edverto Tech\\Main\\Tripknock\\admin-panel\\src\\app\\tour-includes\\page.js"]}]},{metadata:{icon:[async e=>(await Promise.resolve().then(s.bind(s,70440))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(s.bind(s,62804)),"E:\\Edverto Tech\\Main\\Tripknock\\admin-panel\\src\\app\\layout.js"],loading:[()=>Promise.resolve().then(s.bind(s,18988)),"E:\\Edverto Tech\\Main\\Tripknock\\admin-panel\\src\\app\\loading.js"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,19937,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(s.t.bind(s,69116,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(s.t.bind(s,41485,23)),"next/dist/client/components/unauthorized-error"],metadata:{icon:[async e=>(await Promise.resolve().then(s.bind(s,70440))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],c=["E:\\Edverto Tech\\Main\\Tripknock\\admin-panel\\src\\app\\tour-includes\\page.js"],u={require:s,loadChunk:()=>Promise.resolve()},m=new r.AppPageRouteModule({definition:{kind:a.RouteKind.APP_PAGE,page:"/tour-includes/page",pathname:"/tour-includes",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:o}})},86765:(e,t,s)=>{Promise.resolve().then(s.bind(s,12444))},34029:(e,t,s)=>{Promise.resolve().then(s.bind(s,39275))},29426:(e,t,s)=>{"use strict";s.d(t,{A:()=>n});var r=s(64445),a=s(45512);let n=(0,r.A)((0,a.jsx)("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6z"}),"Add")},23397:(e,t,s)=>{"use strict";s.d(t,{A:()=>n});var r=s(64445),a=s(45512);let n=(0,r.A)((0,a.jsx)("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close")},81446:(e,t,s)=>{"use strict";s.d(t,{A:()=>n});var r=s(64445),a=s(45512);let n=(0,r.A)((0,a.jsx)("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6zM19 4h-3.5l-1-1h-5l-1 1H5v2h14z"}),"Delete")},8469:(e,t,s)=>{"use strict";s.d(t,{A:()=>n});var r=s(64445),a=s(45512);let n=(0,r.A)((0,a.jsx)("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.9959.9959 0 0 0-1.41 0l-1.83 1.83 3.75 3.75z"}),"Edit")},8360:(e,t,s)=>{"use strict";s.d(t,{A:()=>n});var r=s(45512),a=s(79420);function n(){return(0,r.jsx)(a.A,{})}},39275:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>b});var r=s(45512),a=s(58009),n=s(29426),i=s(8469),l=s(81446),d=s(23397);let o=(0,s(64445).A)((0,r.jsx)("path",{d:"M21 19V5c0-1.1-.9-2-2-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2M8.5 13.5l2.5 3.01L14.5 12l4.5 6H5z"}),"Image");var c=s(1991),u=s(74016),m=s(25998),p=s(8360),h=s(21695),x=s(5698);function b(){let{showSuccess:e,showError:t}=(0,h.h)(),{setLoading:s,isLoading:b}=(0,x.M)(),[g,v]=(0,a.useState)([]),[f,j]=(0,a.useState)(!1),[y,w]=(0,a.useState)(null),[N,k]=(0,a.useState)({name:"",icon:null}),[A,C]=(0,a.useState)(null),[P,E]=(0,a.useState)(""),[M,T]=(0,a.useState)(!1),[_,z]=(0,a.useState)(0),S=e=>{w(e),k({name:e.name,icon:null}),E(e.icon),j(!0)},I=async s=>{s.preventDefault(),T(!0);let r=new FormData;r.append("image",N.icon??null),r.append("name",N.name),null!==y&&r.append("id",y.id);try{let s=y?"update":"create",a=await fetch(`https://data.tripknock.in/include/${s}`,{method:"POST",headers:{admin:JSON.parse(m.A.get("tk_auth_details")).email},body:r}),n=await a.json();!0===n.status?(e(n.message||`Include ${y?"updated":"created"} successfully`),j(!1),k({name:"",icon:null}),E(""),w(null),z(_+1)):t(n.message||`Failed to ${y?"update":"create"} include`)}catch(e){console.log("Error submitting include:",e),t("An unexpected error occurred. Please try again.")}finally{T(!1)}},q=e=>{C(e)},O=async()=>{T(!0);try{let s=await fetch("https://data.tripknock.in/include/delete",{method:"POST",headers:{"Content-Type":"application/json",admin:JSON.parse(m.A.get("tk_auth_details")).email},body:JSON.stringify({id:A.id})}),r=await s.json();!0===r.status?(e(r.message||"Tour include deleted successfully"),z(_+1)):t(r.message||"Failed to delete include")}catch(e){console.log("Error deleting include:",e),t("An unexpected error occurred. Please try again.")}finally{T(!1),C(null)}};return(0,r.jsx)(r.Fragment,{children:b("fetchIncludes")?(0,r.jsx)(p.A,{}):(0,r.jsxs)("div",{className:"p-6",children:[(0,r.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,r.jsx)("h1",{className:"text-2xl font-bold text-secondary-900",children:"Tour Includes"}),(0,r.jsxs)("button",{onClick:()=>{w(null),k({name:"",icon:null}),E(""),j(!0)},className:"btn-primary",disabled:M,children:[(0,r.jsx)(n.A,{className:"w-5 h-5 mr-2"}),"Add New Include"]})]}),(0,r.jsx)("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 gap-6",children:g.map(e=>(0,r.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-secondary-200 p-4 flex flex-col items-center transition-all duration-200 hover:shadow-md hover:border-primary-200 hover:-translate-y-1 group",children:[(0,r.jsx)("div",{className:"w-16 h-16 mb-3 rounded-full bg-primary-50 flex items-center justify-center group-hover:bg-primary-100 transition-colors",children:(0,r.jsx)("img",{src:"https://data.tripknock.in/uploads/"+e.image,alt:e.name,className:"w-8 h-8"})}),(0,r.jsx)("h3",{className:"text-center font-medium text-secondary-900 group-hover:text-primary-600 transition-colors",children:e.name}),(0,r.jsxs)("div",{className:"mt-4 flex space-x-2",children:[(0,r.jsx)("button",{onClick:()=>{S(e)},className:"p-1.5 text-secondary-600 hover:text-primary-600 rounded-full hover:bg-primary-50 transition-colors",children:(0,r.jsx)(i.A,{className:"w-4 h-4"})}),(0,r.jsx)("button",{onClick:()=>q(e),className:"p-1.5 text-secondary-600 hover:text-red-600 rounded-full hover:bg-red-50 transition-colors",children:(0,r.jsx)(l.A,{className:"w-4 h-4"})})]})]},e.id))}),f&&(0,r.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,r.jsxs)("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-md mx-4",children:[(0,r.jsxs)("div",{className:"flex justify-between items-center p-4 border-b border-secondary-200",children:[(0,r.jsx)("h2",{className:"text-lg font-semibold text-secondary-900",children:y?"Edit Include":"Add New Include"}),(0,r.jsx)("button",{onClick:()=>j(!1),className:"text-secondary-500 hover:text-secondary-700",disabled:M,children:(0,r.jsx)(d.A,{className:"w-6 h-6"})})]}),(0,r.jsxs)("form",{onSubmit:I,className:"p-4 space-y-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-secondary-700 mb-1",children:"Name"}),(0,r.jsx)("input",{type:"text",value:N.name,onChange:e=>k({...N,name:e.target.value}),className:"input-field",placeholder:"Enter include name",required:!0,disabled:M})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-secondary-700 mb-1",children:"Icon"}),(0,r.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,r.jsx)("div",{className:"w-20 h-20 rounded-lg border-2 border-dashed border-secondary-300 flex items-center justify-center",children:P?(0,r.jsx)("img",{src:P,alt:"Preview",className:"w-16 h-16 object-contain"}):(0,r.jsx)(o,{className:"w-8 h-8 text-secondary-400"})}),(0,r.jsxs)("div",{children:[(0,r.jsx)("input",{type:"file",accept:"image/*",onChange:e=>{let t=e.target.files[0];t&&(k(e=>({...e,icon:t})),E(URL.createObjectURL(t)))},className:"hidden",id:"icon-upload",disabled:M}),(0,r.jsx)("label",{htmlFor:"icon-upload",className:`btn-secondary cursor-pointer ${M?"opacity-50 cursor-not-allowed":""} `,children:"Choose Icon"})]})]})]}),(0,r.jsxs)("div",{className:"flex justify-end space-x-3 pt-4",children:[(0,r.jsx)("button",{type:"button",onClick:()=>j(!1),className:"btn-secondary",disabled:M,children:"Cancel"}),(0,r.jsx)("button",{type:"submit",className:"btn-primary relative",disabled:M,children:M?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(u.A,{size:20,className:"mr-2"}),"Processing..."]}):y?"Save Changes":"Add Include"})]})]})]})}),(0,r.jsx)(c.A,{open:!!A,title:"Delete Tour Include",message:`Are you sure you want to delete "${A?.name}" ? This action cannot be undone.`,confirmLabel:M?"Deleting...":"Delete",confirmVariant:"error",onConfirm:O,onCancel:()=>C(null),disabled:M})]})})}},1991:(e,t,s)=>{"use strict";s.d(t,{A:()=>n});var r=s(45512);let a=(0,s(64445).A)((0,r.jsx)("path",{d:"M1 21h22L12 2zm12-3h-2v-2h2zm0-4h-2v-4h2z"}),"Warning");function n({open:e,onConfirm:t,onCancel:s,title:n,message:i,confirmLabel:l="Confirm",confirmVariant:d="primary",disabled:o=!1}){return e?(0,r.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:(0,r.jsxs)("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-md p-6 m-4",children:[(0,r.jsxs)("div",{className:"flex items-center gap-3 text-red-600 mb-4",children:[(0,r.jsx)(a,{className:"w-6 h-6"}),(0,r.jsx)("h2",{className:"text-lg font-semibold",children:n})]}),(0,r.jsx)("p",{className:"text-secondary-600 mb-6",children:i}),(0,r.jsxs)("div",{className:"flex justify-end gap-3",children:[(0,r.jsx)("button",{onClick:s,className:"px-4 py-2 text-secondary-700 hover:bg-secondary-50 rounded-lg transition-colors",disabled:o,children:"Cancel"}),(0,r.jsx)("button",{onClick:t,className:`px-4 py-2 rounded-lg transition-colors ${(()=>{switch(d){case"error":return"bg-red-600 text-white hover:bg-red-700";case"warning":return"bg-yellow-600 text-white hover:bg-yellow-700";default:return"bg-primary-600 text-white hover:bg-primary-700"}})()} ${o?"opacity-50 cursor-not-allowed":""}`,disabled:o,children:l})]})]})}):null}},12444:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>r});let r=(0,s(46760).registerClientReference)(function(){throw Error("Attempted to call the default export of \"E:\\\\Edverto Tech\\\\Main\\\\Tripknock\\\\admin-panel\\\\src\\\\app\\\\tour-includes\\\\page.js\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"E:\\Edverto Tech\\Main\\Tripknock\\admin-panel\\src\\app\\tour-includes\\page.js","default")},70440:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>a});var r=s(88077);let a=async e=>[{type:"image/x-icon",sizes:"16x16",url:(0,r.fillMetadataSegment)(".",await e.params,"favicon.ico")+""}]}};var t=require("../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),r=t.X(0,[638,8305,8077,7348],()=>s(41681));module.exports=r})();