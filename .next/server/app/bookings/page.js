(()=>{var e={};e.id=8407,e.ids=[8407],e.modules={10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},33873:e=>{"use strict";e.exports=require("path")},79551:e=>{"use strict";e.exports=require("url")},36889:(e,s,t)=>{"use strict";t.r(s),t.d(s,{GlobalError:()=>i.a,__next_app__:()=>p,pages:()=>c,routeModule:()=>m,tree:()=>l});var a=t(70260),n=t(28203),r=t(25155),i=t.n(r),o=t(67292),d={};for(let e in o)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(d[e]=()=>o[e]);t.d(s,d);let l=["",{children:["bookings",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,19366)),"E:\\Edverto Tech\\Main\\Tripknock\\admin-panel\\src\\app\\bookings\\page.js"]}]},{metadata:{icon:[async e=>(await Promise.resolve().then(t.bind(t,70440))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(t.bind(t,62804)),"E:\\Edverto Tech\\Main\\Tripknock\\admin-panel\\src\\app\\layout.js"],loading:[()=>Promise.resolve().then(t.bind(t,18988)),"E:\\Edverto Tech\\Main\\Tripknock\\admin-panel\\src\\app\\loading.js"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,19937,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(t.t.bind(t,69116,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(t.t.bind(t,41485,23)),"next/dist/client/components/unauthorized-error"],metadata:{icon:[async e=>(await Promise.resolve().then(t.bind(t,70440))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],c=["E:\\Edverto Tech\\Main\\Tripknock\\admin-panel\\src\\app\\bookings\\page.js"],p={require:t,loadChunk:()=>Promise.resolve()},m=new a.AppPageRouteModule({definition:{kind:n.RouteKind.APP_PAGE,page:"/bookings/page",pathname:"/bookings",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:l}})},9345:(e,s,t)=>{Promise.resolve().then(t.bind(t,19366))},45793:(e,s,t)=>{Promise.resolve().then(t.bind(t,79508))},79508:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>x});var a=t(45512),n=t(58009),r=t(64445);let i=(0,r.A)((0,a.jsx)("path",{d:"M10 18h4v-2h-4zM3 6v2h18V6zm3 7h12v-2H6z"}),"FilterList"),o=(0,r.A)((0,a.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m-2 15-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8z"}),"CheckCircle"),d=(0,r.A)((0,a.jsx)("path",{d:"M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2m5 13.59L15.59 17 12 13.41 8.41 17 7 15.59 10.59 12 7 8.41 8.41 7 12 10.59 15.59 7 17 8.41 13.41 12z"}),"Cancel"),l=(0,r.A)((0,a.jsx)("path",{d:"M12 8c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2m0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2m0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2"}),"MoreVert");var c=t(21695),p=t(5698),m=t(79420);function x(){let{showSuccess:e,showError:s,showInfo:t}=(0,c.h)(),{setLoading:r,isLoading:x}=(0,p.M)(),[u,h]=(0,n.useState)([]),j=async(t,a)=>{r("updateStatus",!0,`${"confirmed"===a?"Confirming":"Cancelling"} booking...`);try{await new Promise(e=>setTimeout(e,500)),h(e=>e.map(e=>e.id===t?{...e,status:a}:e)),e(`Booking ${"confirmed"===a?"confirmed":"cancelled"} successfully`)}catch(e){console.log("Error updating booking:",e),s("Failed to update booking status")}finally{r("updateStatus",!1)}},f=e=>{switch(e){case"confirmed":return"badge-success";case"pending":return"badge-warning";case"cancelled":return"badge-error";default:return"badge-secondary"}};return x("fetchBookings")?(0,a.jsx)(m.A,{}):(0,a.jsxs)("div",{className:"p-6 space-y-6",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsx)("h1",{className:"text-2xl font-bold text-secondary-900",children:"Bookings"}),(0,a.jsxs)("div",{className:"flex gap-3",children:[(0,a.jsxs)("select",{className:"input-field min-w-[150px]",children:[(0,a.jsx)("option",{value:"",children:"All Status"}),(0,a.jsx)("option",{value:"confirmed",children:"Confirmed"}),(0,a.jsx)("option",{value:"pending",children:"Pending"}),(0,a.jsx)("option",{value:"cancelled",children:"Cancelled"})]}),(0,a.jsxs)("button",{className:"btn-secondary inline-flex items-center gap-2",children:[(0,a.jsx)(i,{className:"w-5 h-5"}),"Filter"]})]})]}),(0,a.jsxs)("div",{className:"card",children:[(0,a.jsx)("div",{className:"overflow-x-auto",children:(0,a.jsxs)("table",{className:"w-full",children:[(0,a.jsx)("thead",{children:(0,a.jsxs)("tr",{className:"border-b border-secondary-200",children:[(0,a.jsx)("th",{className:"text-left py-3 px-4 text-secondary-500 font-medium",children:"Customer"}),(0,a.jsx)("th",{className:"text-left py-3 px-4 text-secondary-500 font-medium",children:"Tour"}),(0,a.jsx)("th",{className:"text-left py-3 px-4 text-secondary-500 font-medium",children:"Date"}),(0,a.jsx)("th",{className:"text-left py-3 px-4 text-secondary-500 font-medium",children:"Amount"}),(0,a.jsx)("th",{className:"text-left py-3 px-4 text-secondary-500 font-medium",children:"Status"}),(0,a.jsx)("th",{className:"text-left py-3 px-4 text-secondary-500 font-medium",children:"Actions"})]})}),(0,a.jsx)("tbody",{className:"divide-y divide-secondary-100",children:u.map(e=>(0,a.jsxs)("tr",{className:"group hover:bg-secondary-50",children:[(0,a.jsx)("td",{className:"py-3 px-4",children:(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"font-medium text-secondary-900",children:e.customer}),(0,a.jsx)("div",{className:"text-sm text-secondary-500",children:e.email})]})}),(0,a.jsx)("td",{className:"py-3 px-4",children:(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"text-secondary-900",children:e.tour}),(0,a.jsxs)("div",{className:"text-sm text-secondary-500",children:[e.participants," participants"]})]})}),(0,a.jsx)("td",{className:"py-3 px-4 text-secondary-900",children:e.date}),(0,a.jsx)("td",{className:"py-3 px-4",children:(0,a.jsx)("span",{className:"font-medium text-secondary-900",children:e.amount})}),(0,a.jsx)("td",{className:"py-3 px-4",children:(0,a.jsx)("span",{className:`badge ${f(e.status)}`,children:e.status})}),(0,a.jsx)("td",{className:"py-3 px-4",children:(0,a.jsxs)("div",{className:"flex items-center gap-2 opacity-0 group-hover:opacity-100 transition-all",children:["pending"===e.status&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("button",{onClick:()=>j(e.id,"confirmed"),disabled:x("updateStatus"),className:"p-1 text-green-600 hover:bg-green-50 rounded-lg disabled:opacity-50",title:"Confirm Booking",children:(0,a.jsx)(o,{className:"w-5 h-5"})}),(0,a.jsx)("button",{onClick:()=>j(e.id,"cancelled"),disabled:x("updateStatus"),className:"p-1 text-red-600 hover:bg-red-50 rounded-lg disabled:opacity-50",title:"Cancel Booking",children:(0,a.jsx)(d,{className:"w-5 h-5"})})]}),(0,a.jsx)("button",{className:"p-1 text-secondary-400 hover:text-secondary-600 hover:bg-secondary-100 rounded-lg",title:"More Options",children:(0,a.jsx)(l,{className:"w-5 h-5"})})]})})]},e.id))})]})}),(0,a.jsxs)("div",{className:"flex items-center justify-between px-4 py-3 border-t border-secondary-200",children:[(0,a.jsxs)("div",{className:"text-sm text-secondary-500",children:["Showing ",(0,a.jsx)("span",{className:"font-medium",children:"1"})," to ",(0,a.jsx)("span",{className:"font-medium",children:"10"})," of"," ",(0,a.jsx)("span",{className:"font-medium",children:"20"})," bookings"]}),(0,a.jsxs)("div",{className:"flex gap-2",children:[(0,a.jsx)("button",{className:"btn-secondary px-4 py-2",children:"Previous"}),(0,a.jsx)("button",{className:"btn-primary px-4 py-2",children:"Next"})]})]})]})]})}},19366:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>a});let a=(0,t(46760).registerClientReference)(function(){throw Error("Attempted to call the default export of \"E:\\\\Edverto Tech\\\\Main\\\\Tripknock\\\\admin-panel\\\\src\\\\app\\\\bookings\\\\page.js\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"E:\\Edverto Tech\\Main\\Tripknock\\admin-panel\\src\\app\\bookings\\page.js","default")},70440:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>n});var a=t(88077);let n=async e=>[{type:"image/x-icon",sizes:"16x16",url:(0,a.fillMetadataSegment)(".",await e.params,"favicon.ico")+""}]}};var s=require("../../webpack-runtime.js");s.C(e);var t=e=>s(s.s=e),a=s.X(0,[638,8305,8077,7348],()=>t(36889));module.exports=a})();