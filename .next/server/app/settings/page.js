(()=>{var e={};e.id=4662,e.ids=[4662],e.modules={10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},33873:e=>{"use strict";e.exports=require("path")},79551:e=>{"use strict";e.exports=require("url")},74317:(e,s,t)=>{"use strict";t.r(s),t.d(s,{GlobalError:()=>i.a,__next_app__:()=>p,pages:()=>c,routeModule:()=>m,tree:()=>o});var a=t(70260),r=t(28203),n=t(25155),i=t.n(n),l=t(67292),d={};for(let e in l)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(d[e]=()=>l[e]);t.d(s,d);let o=["",{children:["settings",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,95889)),"E:\\Edverto Tech\\Main\\Tripknock\\admin-panel\\src\\app\\settings\\page.js"]}]},{metadata:{icon:[async e=>(await Promise.resolve().then(t.bind(t,70440))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(t.bind(t,62804)),"E:\\Edverto Tech\\Main\\Tripknock\\admin-panel\\src\\app\\layout.js"],loading:[()=>Promise.resolve().then(t.bind(t,18988)),"E:\\Edverto Tech\\Main\\Tripknock\\admin-panel\\src\\app\\loading.js"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,19937,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(t.t.bind(t,69116,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(t.t.bind(t,41485,23)),"next/dist/client/components/unauthorized-error"],metadata:{icon:[async e=>(await Promise.resolve().then(t.bind(t,70440))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],c=["E:\\Edverto Tech\\Main\\Tripknock\\admin-panel\\src\\app\\settings\\page.js"],p={require:t,loadChunk:()=>Promise.resolve()},m=new a.AppPageRouteModule({definition:{kind:r.RouteKind.APP_PAGE,page:"/settings/page",pathname:"/settings",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:o}})},79648:(e,s,t)=>{Promise.resolve().then(t.bind(t,95889))},43200:(e,s,t)=>{Promise.resolve().then(t.bind(t,77429))},23397:(e,s,t)=>{"use strict";t.d(s,{A:()=>n});var a=t(64445),r=t(45512);let n=(0,a.A)((0,r.jsx)("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close")},95416:(e,s,t)=>{"use strict";t.d(s,{A:()=>n});var a=t(64445),r=t(45512);let n=(0,a.A)((0,r.jsx)("path",{d:"M17 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V7zm-5 16c-1.66 0-3-1.34-3-3s1.34-3 3-3 3 1.34 3 3-1.34 3-3 3m3-10H5V5h10z"}),"Save")},8360:(e,s,t)=>{"use strict";t.d(s,{A:()=>n});var a=t(45512),r=t(79420);function n(){return(0,a.jsx)(r.A,{})}},77429:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>o});var a=t(45512),r=t(58009),n=t(95416),i=t(23397),l=t(88280),d=t(8360);function o(){let{user:e,isLoggedIn:s}=(0,l.U)(),[t,o]=(0,r.useState)(!1),[c,p]=(0,r.useState)(!1),[m,u]=(0,r.useState)(!1),[x,h]=(0,r.useState)(!1),[f,j]=(0,r.useState)(!1),[v,w]=(0,r.useState)({id:"",name:"",email:"",phone:""}),[b,g]=(0,r.useState)({password:"",newPassword:"",confirmPassword:""}),y=e=>{g(s=>({...s,[e.target.name]:e.target.value}))},N=e=>{let{name:s,value:t,type:a,checked:r}=e.target;w(e=>({...e,[s]:"checkbox"===a?r:t}))},P=async e=>{e.preventDefault(),o(!0);let s=await fetch("https://data.tripknock.in/user/profile/update",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:v.id,name:v.name,phone:v.phone})});!0===(await s.json()).status?(j(!0),h(!1)):(h(!0),j(!1)),o(!1)},k=async e=>{if(e.preventDefault(),o(!0),b.newPassword!==b.confirmPassword)p(!0),o(!1),h(!1),u(!1);else{let e=await fetch("https://data.tripknock.in/user/profile/update-password",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:v.id,oldPassword:b.password,newPassword:b.newPassword})});!0===(await e.json()).status?(p(!1),h(!1),u(!0),g({password:"",newPassword:"",confirmPassword:""})):(p(!0),h(!1),u(!1)),o(!1)}};return t?(0,a.jsx)(d.A,{}):(0,a.jsx)(a.Fragment,{children:!0===t?(0,a.jsx)(d.A,{}):(0,a.jsxs)("div",{className:"p-6 space-y-6",children:[(0,a.jsx)("div",{className:"flex justify-between items-center",children:(0,a.jsx)("h1",{className:"text-2xl font-bold text-secondary-900",children:"Settings"})}),(0,a.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,a.jsxs)("div",{className:"card",children:[(0,a.jsx)("h2",{className:"text-lg font-semibold mb-4",children:"Profile Settings"}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-secondary-700 mb-1",children:"Name"}),(0,a.jsx)("input",{type:"text",name:"name",className:"input-field",placeholder:"Your name",value:v.name,onChange:N})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-secondary-700 mb-1",children:"Email"}),(0,a.jsx)("input",{type:"email",name:"email",className:"input-field",placeholder:"Your email",value:v.email,disabled:!0})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-secondary-700 mb-1",children:"Phone"}),(0,a.jsx)("input",{type:"tel",name:"phone",className:"input-field",placeholder:"Your phone number",value:v.phone,onChange:N})]}),(0,a.jsx)("div",{className:"col-span-full flex justify-end mt-6",children:(0,a.jsxs)("button",{onClick:P,className:"btn-primary flex items-center gap-2",children:[(0,a.jsx)(n.A,{className:"w-5 h-5"}),"Save Changes"]})}),x&&(0,a.jsxs)("div",{className:"px-5 py-4 bg-red-200 rounded-xl flex justify-between",children:[(0,a.jsx)("p",{className:"text-red-700",children:"Error in Updating Profile"}),(0,a.jsx)("button",{onClick:()=>h(!1),children:(0,a.jsx)(i.A,{className:"w-5 h-5 text-red-700"})})]}),f&&(0,a.jsxs)("div",{className:"px-5 py-4 bg-green-200 rounded-xl flex justify-between",children:[(0,a.jsx)("p",{className:"text-green-700",children:"Profile Updated"}),(0,a.jsx)("button",{onClick:()=>j(!1),children:(0,a.jsx)(i.A,{className:"w-5 h-5 text-green-700"})})]})]})]}),(0,a.jsxs)("div",{className:"card",children:[(0,a.jsx)("h2",{className:"text-lg font-semibold mb-4",children:"Password Settings"}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-secondary-700 mb-1",children:"Current Password"}),(0,a.jsx)("input",{type:"password",name:"password",className:"input-field",value:b.password,onChange:y,placeholder:"Enter current password"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-secondary-700 mb-1",children:"New Password"}),(0,a.jsx)("input",{type:"password",className:"input-field",name:"newPassword",value:b.newPassword,onChange:y,placeholder:"Enter new password"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-secondary-700 mb-1",children:"Confirm New Password"}),(0,a.jsx)("input",{type:"password",name:"confirmPassword",className:"input-field",value:b.confirmPassword,onChange:y,placeholder:"Confirm new password"})]}),(0,a.jsx)("div",{className:"col-span-full flex justify-end mt-6",children:(0,a.jsxs)("button",{onClick:k,className:"btn-primary flex items-center gap-2",children:[(0,a.jsx)(n.A,{className:"w-5 h-5"}),"Save Changes"]})}),c&&(0,a.jsxs)("div",{className:"px-5 py-4 bg-red-200 rounded-xl flex justify-between",children:[(0,a.jsx)("p",{className:"text-red-700",children:"Passwords do not match"}),(0,a.jsx)("button",{onClick:()=>p(!1),children:(0,a.jsx)(i.A,{className:"w-5 h-5 text-red-700"})})]}),m&&(0,a.jsxs)("div",{className:"px-5 py-4 bg-green-200 rounded-xl flex justify-between",children:[(0,a.jsx)("p",{className:"text-green-700",children:"Password Updated"}),(0,a.jsx)("button",{onClick:()=>u(!1),children:(0,a.jsx)(i.A,{className:"w-5 h-5 text-green-700"})})]})]})]})]})]})})}},95889:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>a});let a=(0,t(46760).registerClientReference)(function(){throw Error("Attempted to call the default export of \"E:\\\\Edverto Tech\\\\Main\\\\Tripknock\\\\admin-panel\\\\src\\\\app\\\\settings\\\\page.js\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"E:\\Edverto Tech\\Main\\Tripknock\\admin-panel\\src\\app\\settings\\page.js","default")},70440:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>r});var a=t(88077);let r=async e=>[{type:"image/x-icon",sizes:"16x16",url:(0,a.fillMetadataSegment)(".",await e.params,"favicon.ico")+""}]}};var s=require("../../webpack-runtime.js");s.C(e);var t=e=>s(s.s=e),a=s.X(0,[638,8305,8077,7348],()=>t(74317));module.exports=a})();